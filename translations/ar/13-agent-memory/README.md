# الذاكرة لوكلاء الذكاء الاصطناعي 
[![ذاكرة الوكيل](../../../translated_images/ar/lesson-13-thumbnail.959e3bc52d210c64.webp)](https://youtu.be/QrYbHesIxpw?si=qNYW6PL3fb3lTPMk)

عند مناقشة الفوائد الفريدة لإنشاء وكلاء الذكاء الاصطناعي، يتم مناقشة أمرين رئيسيين: القدرة على استدعاء الأدوات لإكمال المهام والقدرة على التحسن مع مرور الوقت. الذاكرة هي أساس إنشاء وكيل يتحسن ذاتيًا ويمكنه خلق تجارب أفضل لمستخدمينا.

في هذا الدرس، سننظر فيما تعنيه الذاكرة لوكلاء الذكاء الاصطناعي وكيف يمكننا إدارتها واستخدامها لصالح تطبيقاتنا.

## مقدمة

سيغطي هذا الدرس:

• **فهم ذاكرة وكيل الذكاء الاصطناعي**: ما هي الذاكرة ولماذا هي أساسية للوكلاء.

• **تنفيذ وتخزين الذاكرة**: طرق عملية لإضافة قدرات الذاكرة إلى وكلاء الذكاء الاصطناعي لديك، مع التركيز على الذاكرة قصيرة الأمد وطويلة الأمد.

• **جعل وكلاء الذكاء الاصطناعي يتحسنون ذاتيًا**: كيف تُمكّن الذاكرة الوكلاء من التعلم من التفاعلات السابقة والتحسن مع مرور الوقت.

## التّنفيذات المتاحة

يتضمن هذا الدرس دليلين تفصيليين على شكل دفاتر ملاحظات شاملة:

• **[13-agent-memory.ipynb](./13-agent-memory.ipynb)**: يُنفّذ الذاكرة باستخدام Mem0 وAzure AI Search مع إطار عمل Semantic Kernel

• **[13-agent-memory-cognee.ipynb](./13-agent-memory-cognee.ipynb)**: يُنفّذ ذاكرة مُنظّمة باستخدام Cognee، يبني تلقائيًا رسمًا بيانيًا للمعرفة مدعومًا بالتضمينات، يعرض الرسم البياني بصريًا ويتيح الاسترجاع الذكي

## أهداف التعلم

بعد إكمال هذا الدرس، ستعرف كيف:

• **التفريق بين أنواع مختلفة من ذاكرة وكلاء الذكاء الاصطناعي**، بما في ذلك ذاكرة العمل، والذاكرة قصيرة الأمد، والذاكرة طويلة الأمد، وكذلك الأشكال المتخصصة مثل ذاكرة الشخصية والذاكرة العرضية.

• **تنفيذ وإدارة الذاكرة قصيرة الأمد وطويلة الأمد لوكلاء الذكاء الاصطناعي** باستخدام إطار عمل Semantic Kernel، والاستفادة من أدوات مثل Mem0 وCognee وWhiteboard memory، والتكامل مع Azure AI Search.

• **فهم المبادئ وراء وكلاء الذكاء الاصطناعي الذين يتحسنون ذاتيًا** وكيف تساهم أنظمة إدارة الذاكرة القوية في التعلم المستمر والتكيف.

## فهم ذاكرة وكيل الذكاء الاصطناعي

في جوهرها، **تشير الذاكرة لوكلاء الذكاء الاصطناعي إلى الآليات التي تسمح لهم بالاحتفاظ بالمعلومات واستدعائها**. يمكن أن تكون هذه المعلومات تفاصيل محددة حول محادثة، تفضيلات المستخدم، إجراءات سابقة، أو حتى أنماط تم تعلمها.

بدون الذاكرة، تكون تطبيقات الذكاء الاصطناعي غالبًا بلا حالة، مما يعني أن كل تفاعل يبدأ من الصفر. هذا يؤدي إلى تجربة مستخدم متكررة ومحبطة حيث "ينسى" الوكيل السياق أو التفضيلات السابقة.

### لماذا الذاكرة مهمة؟

ترتبط ذكاء الوكيل ارتباطًا عميقًا بقدرته على تذكر المعلومات السابقة واستخدامها. تُمكن الذاكرة الوكلاء من أن يكونوا:

• **تأمليين**: التعلم من الأفعال والنتائج الماضية.

• **تفاعليين**: الحفاظ على السياق عبر محادثة مستمرة.

• **استباقيين وتفاعليين**: توقع الاحتياجات أو الاستجابة بشكل مناسب بناءً على البيانات التاريخية.

• **مستقلين**: العمل بمزيد من الاستقلالية بالاستناد إلى المعرفة المخزنة.

الهدف من تنفيذ الذاكرة هو جعل الوكلاء أكثر **موثوقية وقابلية**.

### أنواع الذاكرة

#### ذاكرة العمل

فكر في هذا كمذكرة صغيرة يستخدمها الوكيل خلال مهمة واحدة جارية أو عملية تفكير مستمرة. تحتفظ بالمعلومات الفورية اللازمة لحساب الخطوة التالية.

بالنسبة لوكلاء الذكاء الاصطناعي، تلتقط ذاكرة العمل غالبًا أكثر المعلومات صلة من المحادثة، حتى لو كان سجل الدردشة الكامل طويلًا أو مقتصرًا. تركز على استخراج العناصر الرئيسية مثل المتطلبات، المقترحات، القرارات، والإجراءات.

**مثال على ذاكرة العمل**

في وكيل حجز سفر، قد تلتقط ذاكرة العمل طلب المستخدم الحالي، مثل "أريد حجز رحلة إلى باريس". يتم الاحتفاظ بهذا المتطلب المحدد في سياق الوكيل الفوري لتوجيه التفاعل الحالي.

#### الذاكرة قصيرة الأمد

يحتفظ هذا النوع من الذاكرة بالمعلومات طوال مدة محادثة أو جلسة واحدة. إنها سياق الدردشة الحالية، مما يسمح للوكيل بالرجوع إلى الأدوار السابقة في الحوار.

**مثال على الذاكرة قصيرة الأمد**

إذا سأل مستخدم، "كم ستكلف رحلة طيران إلى باريس؟" ثم تابع بـ "ماذا عن الإقامة هناك؟"، تضمن الذاكرة قصيرة الأمد أن الوكيل يعلم أن "هناك" تشير إلى "باريس" ضمن نفس المحادثة.

#### الذاكرة طويلة الأمد

هذه معلومات تدوم عبر عدة محادثات أو جلسات. تسمح للوكلاء بتذكر تفضيلات المستخدم، التفاعلات التاريخية، أو المعرفة العامة على مدى فترات ممتدة. وهذا مهم للتخصيص.

**مثال على الذاكرة طويلة الأمد**

قد تخزن الذاكرة طويلة الأمد أن "بن يستمتع بالتزلج والأنشطة الخارجية، يفضل القهوة مع إطلالة جبلية، ويرغب في تجنب منحدرات التزلج المتقدمة بسبب إصابة سابقة". تؤثر هذه المعلومات، التي تم تعلمها من تفاعلات سابقة، على التوصيات في جلسات تخطيط السفر المستقبلية، مما يجعلها مخصصة للغاية.

#### ذاكرة الشخصية

يساعد هذا النوع المتخصص من الذاكرة الوكيل على تطوير "شخصية" أو "هوية" متسقة. يسمح للوكيل بتذكر تفاصيل عن نفسه أو دوره المقصود، مما يجعل التفاعلات أكثر سلاسة وتركيزًا.

**مثال على ذاكرة الشخصية**
إذا صُمم وكيل السفر ليكون "مخطط تزلج خبير"، فقد تعزز ذاكرة الشخصية هذا الدور، مما يؤثر على ردوده لتتماشى مع نبرة وخبرة الخبير.

#### ذاكرة سير العمل/ذاكرة الأحداث

تخزن هذه الذاكرة تسلسل الخطوات التي يتخذها الوكيل أثناء مهمة معقدة، بما في ذلك النجاحات والإخفاقات. إنها تشبه تذكر "حلقات" أو تجارب سابقة للتعلم منها.

**مثال على الذاكرة العرضية**

إذا حاول الوكيل حجز رحلة معينة لكنه فشل بسبب عدم التوفر، يمكن لذاكرة الأحداث تسجيل هذا الفشل، مما يسمح للوكيل بمحاولة رحلات بديلة أو إبلاغ المستخدم بالمشكلة بطريقة أكثر اطلاعًا خلال محاولة لاحقة.

#### ذاكرة الكيانات

يتعلق هذا باستخراج وتذكر كيانات محددة (مثل الأشخاص، الأماكن، أو الأشياء) والأحداث من المحادثات. يسمح للوكيل ببناء فهم منظم للعناصر الرئيسية التي تمت مناقشتها.

**مثال على ذاكرة الكيانات**

من محادثة حول رحلة سابقة، قد يستخرج الوكيل "باريس"، "برج إيفل"، و"عشاء في مطعم Le Chat Noir" ككيانات. في تفاعل مستقبلي، يمكن للوكيل تذكر "Le Chat Noir" وعرض إجراء حجز جديد هناك.

#### RAG المهيكل (Retrieval Augmented Generation)

بينما RAG هي تقنية أوسع، يتم تسليط الضوء على "RAG المهيكل" كتقنية ذاكرة قوية. تستخرج معلومات كثيفة ومنظمة من مصادر متنوعة (محادثات، رسائل إلكترونية، صور) وتستخدمها لتعزيز الدقة والاستدعاء والسرعة في الاستجابات. على عكس RAG الكلاسيكي الذي يعتمد فقط على التشابه الدلالي، يعمل RAG المهيكل مع البنية المتأصلة للمعلومات.

**مثال على RAG المهيكل**

بدلاً من مطابقة الكلمات المفتاحية فقط، يمكن أن يحلل RAG المهيكل تفاصيل الرحلة (الوجهة، التاريخ، الوقت، شركة الطيران) من رسالة إلكترونية ويخزنها بطريقة منظمة. هذا يسمح باستعلامات دقيقة مثل "ما الرحلة التي حجزتها إلى باريس يوم الثلاثاء؟"

## تنفيذ وتخزين الذاكرة

يتضمن تنفيذ الذاكرة للوكلاء عملية منهجية لإدارة الذاكرة، والتي تشمل توليدها، تخزينها، استرجاعها، دمجها، تحديثها، وحتى "نسيانها" (أو حذفها). الاسترجاع هو جانب حاسم بشكل خاص.

### أدوات ذاكرة متخصصة

#### Mem0

إحدى طرق تخزين وإدارة ذاكرة الوكيل هي استخدام أدوات متخصصة مثل Mem0. يعمل Mem0 كطبقة ذاكرة دائمة، مما يسمح للوكلاء باستدعاء التفاعلات ذات الصلة، تخزين تفضيلات المستخدم والسياق الواقعي، والتعلم من النجاحات والإخفاقات مع مرور الوقت. الفكرة هنا هي أن الوكلاء عديمي الحالة يتحولون إلى وكلاء ذوي حالة.

يعمل من خلال **خط أنابيب ذاكرة من مرحلتين: الاستخراج والتحديث**. أولاً، تُرسل الرسائل المضافة إلى سلسلة وكيل إلى خدمة Mem0، التي تستخدم نموذج لغة كبير (LLM) لتلخيص تاريخ المحادثة واستخراج ذكريات جديدة. بعد ذلك، تحدد مرحلة التحديث المدفوعة بالنموذج ما إذا كان يجب إضافة هذه الذكريات أو تعديلها أو حذفها، وتخزنها في مخزن بيانات هجيني يمكن أن يشمل قواعد بيانات متجهية، ورسومية، ومفتاح-قيمة. يدعم هذا النظام أيضًا أنواعًا مختلفة من الذاكرة ويمكن أن يدمج ذاكرة الرسم البياني لإدارة العلاقات بين الكيانات.

#### Cognee

نهج قوي آخر هو استخدام **Cognee**، ذاكرة دلالية مفتوحة المصدر لوكلاء الذكاء الاصطناعي تحول البيانات المنظمة وغير المنظمة إلى رسوم بيانية معرفية قابلة للاستعلام ومدعومة بالتضمينات. يوفر Cognee بنية تخزين مزدوجة تجمع بين بحث التشابه المتجهي وعلاقات الرسم البياني، مما يمكّن الوكلاء من فهم ليس فقط ما هي المعلومات المتشابهة، بل أيضًا كيف ترتبط المفاهيم ببعضها البعض.

يتفوق في **الاسترجاع الهجين** الذي يمزج بين تشابه المتجهات، بنية الرسم البياني، ومنطق نماذج اللغة الكبيرة - من البحث في القطع الخام إلى الإجابة على الأسئلة الواعية بالرسم البياني. يحافظ النظام على **ذاكرة حية** تتطور وتنمو بينما تظل قابلة للاستعلام كرسم بياني واحد متصل، وتدعم كلًا من سياق الجلسة قصير الأمد والذاكرة المستمرة طويلة الأمد.

يوضح دليل دفتر ملاحظات Cognee ([13-agent-memory-cognee.ipynb](./13-agent-memory-cognee.ipynb)) بناء هذه الطبقة الموحدة للذاكرة، مع أمثلة عملية على استيعاب مصادر بيانات متنوعة، تصور رسم المعرفة، والاستعلام باستراتيجيات بحث مختلفة مصممة لاحتياجات وكلاء محددة.

### تخزين الذاكرة باستخدام RAG

بعيدًا عن أدوات الذاكرة المتخصصة مثل Mem0، يمكنك الاستفادة من خدمات البحث القوية مثل **Azure AI Search كخلفية لتخزين واسترجاع الذكريات**، خاصةً لـ RAG المهيكل.

يتيح لك ذلك تأصيل استجابات وكيلك ببياناتك الخاصة، مما يضمن إجابات أكثر ملاءمة ودقة. يمكن استخدام Azure AI Search لتخزين ذكريات السفر الخاصة بالمستخدم، وفهارس المنتجات، أو أي معرفة متخصصة في أي مجال آخر.

تدعم Azure AI Search قدرات مثل **RAG المهيكل**، الذي يتفوق في استخراج واسترجاع معلومات كثيفة ومنظمة من مجموعات بيانات كبيرة مثل تاريخ المحادثات، الرسائل الإلكترونية، أو حتى الصور. هذا يوفر "دقة واستدعاء تفوق القدرات البشرية" مقارنةً بأساليب تقسيم النص التقليدية والتضمين.

## جعل وكلاء الذكاء الاصطناعي يتحسنون ذاتيًا

نمط شائع للوكلاء الذين يتحسنون ذاتيًا يتضمن إدخال **"وكيل المعرفة"**. يراقب هذا الوكيل المنفصل المحادثة الرئيسية بين المستخدم والوكيل الأساسي. دوره هو:

1. **تحديد المعلومات القيمة**: تحديد ما إذا كان أي جزء من المحادثة يستحق الحفظ كمعرفة عامة أو كتفضيل مستخدم محدد.

2. **الاستخراج والتلخيص**: استخلاص التعلم الأساسي أو التفضيل من المحادثة وتلخيصه.

3. **التخزين في قاعدة معرفة**: حفظ هذه المعلومات المستخرجة، غالبًا في قاعدة بيانات متجهية، بحيث يمكن استرجاعها لاحقًا.

4. **تعزيز الاستعلامات المستقبلية**: عندما يبدأ المستخدم استعلامًا جديدًا، يسترجع وكيل المعرفة المعلومات المخزنة ذات الصلة ويلحقها بمطالبة المستخدم، موفّرًا سياقًا حاسمًا للوكيل الأساسي (مماثلًا لـ RAG).

### تحسينات للذاكرة

• **إدارة الكمون**: لتجنب إبطاء تفاعلات المستخدم، يمكن استخدام نموذج أرخص وأسرع مبدئيًا للتحقق بسرعة مما إذا كانت المعلومات تستحق التخزين أو الاسترجاع، مع استدعاء عملية الاستخراج/الاسترجاع المعقدة عندما يكون ذلك ضروريًا فقط.

• **صيانة قاعدة المعرفة**: بالنسبة لقاعدة معرفة متنامية، يمكن نقل المعلومات الأقل استخدامًا إلى "التخزين البارد" لإدارة التكاليف.

## هل لديك مزيد من الأسئلة حول ذاكرة الوكلاء؟

انضم إلى [Microsoft Foundry Discord](https://aka.ms/ai-agents/discord) للقاء متعلمين آخرين، حضور ساعات المكتب، والحصول على إجابات لأسئلتك حول وكلاء الذكاء الاصطناعي.

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
إخلاء المسؤولية:
تمت ترجمة هذا المستند باستخدام خدمة الترجمة الآلية [Co-op Translator](https://github.com/Azure/co-op-translator). بينما نسعى للدقة، يرجى العلم أن الترجمات الآلية قد تحتوي على أخطاء أو معلومات غير دقيقة. يجب اعتبار الوثيقة الأصلية بلغتها الأصلية المصدر الموثوق. للمعلومات الحساسة أو الحرجة، يُوصى بالاستعانة بترجمة بشرية محترفة. نحن غير مسؤولين عن أي سوء تفاهم أو تفسيرات خاطئة ناتجة عن استخدام هذه الترجمة.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->