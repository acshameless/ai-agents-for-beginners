# Πράκτορες ΤΝ σε Παραγωγή: Παρατηρησιμότητα & Αξιολόγηση

[![Πράκτορες ΤΝ σε Παραγωγή](../../../translated_images/el/lesson-10-thumbnail.2b79a30773db093e.webp)](https://youtu.be/l4TP6IyJxmQ?si=reGOyeqjxFevyDq9)

Καθώς οι πράκτορες τεχνητής νοημοσύνης μετακινούνται από πειραματικά πρωτότυπα σε εφαρμογές στον πραγματικό κόσμο, η ικανότητα να κατανοούμε τη συμπεριφορά τους, να παρακολουθούμε τις επιδόσεις τους και να αξιολογούμε συστηματικά τα αποτελέσματά τους γίνεται σημαντική.

## Στόχοι Μάθησης

Μετά την ολοκλήρωση αυτού του μαθήματος, θα γνωρίζετε/θα κατανοείτε:
- Βασικές έννοιες της παρατηρησιμότητας και αξιολόγησης πρακτόρων
- Τεχνικές για βελτίωση της απόδοσης, του κόστους και της αποτελεσματικότητας των πρακτόρων
- Τι και πώς να αξιολογείτε συστηματικά τους πράκτορές σας ΤΝ
- Πώς να ελέγχετε το κόστος κατά την ανάπτυξη πρακτόρων ΤΝ σε παραγωγή
- Πώς να εξοπλίζετε με εργαλεία παρατηρησιμότητας πράκτορες που έχουν χτιστεί με AutoGen

Ο στόχος είναι να σας εξοπλίσει με τη γνώση για να μετατρέψετε τους «μαύρους κουτιού» πράκτορές σας σε διαφανή, διαχειρίσιμα και αξιόπιστα συστήματα.

_**Σημείωση:** Είναι σημαντικό να αναπτύσσετε Πράκτορες ΤΝ που είναι ασφαλείς και αξιόπιστοι. Δείτε επίσης το μάθημα [Building Trustworthy AI Agents](./06-building-trustworthy-agents/README.md)._

## Ιχνη και Spans

Εργαλεία παρατηρησιμότητας όπως το [Langfuse](https://langfuse.com/) ή το [Microsoft Foundry](https://learn.microsoft.com/en-us/azure/ai-foundry/what-is-azure-ai-foundry) συνήθως αναπαριστούν τις εκτελέσεις πρακτόρων ως ιχνη (traces) και spans.

- **Trace** αναπαριστά ένα ολοκληρωμένο έργο πράκτορα από την αρχή έως το τέλος (όπως η αντιμετώπιση ενός ερωτήματος χρήστη).
- **Spans** είναι μεμονωμένα βήματα εντός του trace (όπως η κλήση ενός γλωσσικού μοντέλου ή η ανάκτηση δεδομένων).

![Δέντρο ιχνών στο Langfuse](https://langfuse.com/images/cookbook/example-autogen-evaluation/trace-tree.png)

Χωρίς παρατηρησιμότητα, ένας πράκτορας ΤΝ μπορεί να μοιάζει σαν «μαύρο κουτί» — η εσωτερική του κατάσταση και η λογική του είναι αδιαφανείς, καθιστώντας δύσκολη τη διάγνωση προβλημάτων ή τη βελτιστοποίηση της απόδοσης. Με την παρατηρησιμότητα, οι πράκτορες γίνονται «διαφανή κουτιά», προσφέροντας διαφάνεια που είναι ζωτική για την οικοδόμηση εμπιστοσύνης και την εξασφάλιση ότι λειτουργούν όπως προβλέπεται.

## Γιατί έχει σημασία η παρατηρησιμότητα σε περιβάλλοντα παραγωγής

Η μετάβαση των πρακτόρων ΤΝ σε περιβάλλοντα παραγωγής εισάγει ένα νέο σύνολο προκλήσεων και απαιτήσεων. Η παρατηρησιμότητα δεν είναι πλέον «καλό να υπάρχει» αλλά μια κρίσιμη ικανότητα:

*   **Διάγνωση και Ανάλυση Αιτίας Ρίζας**: Όταν ένας πράκτορας αποτυγχάνει ή παράγει μη αναμενόμενο αποτέλεσμα, τα εργαλεία παρατηρησιμότητας παρέχουν τα ίχνη που χρειάζονται για να εντοπιστεί η πηγή του σφάλματος. Αυτό είναι ιδιαίτερα σημαντικό σε σύνθετους πράκτορες που μπορεί να περιλαμβάνουν πολλές κλήσεις LLM, αλληλεπιδράσεις με εργαλεία και συνθήκη λογικής.
*   **Διαχείριση Καθυστέρησης και Κόστους**: Οι πράκτορες ΤΝ συχνά βασίζονται σε LLM και άλλες εξωτερικές API που χρεώνονται ανά token ή ανά κλήση. Η παρατηρησιμότητα επιτρέπει την ακριβή παρακολούθηση αυτών των κλήσεων, βοηθώντας στον εντοπισμό λειτουργιών που είναι υπερβολικά αργές ή ακριβές. Αυτό επιτρέπει στις ομάδες να βελτιστοποιήσουν prompts, να επιλέξουν πιο αποδοτικά μοντέλα ή να ανασχεδιάσουν ροές εργασίας για να διαχειριστούν το λειτουργικό κόστος και να διασφαλίσουν καλή εμπειρία χρήστη.
*   **Εμπιστοσύνη, Ασφάλεια και Συμμόρφωση**: Σε πολλές εφαρμογές, είναι σημαντικό να διασφαλίζεται ότι οι πράκτορες συμπεριφέρονται με ασφάλεια και ηθικά. Η παρατηρησιμότητα παρέχει ένα αρχείο ελέγχου των ενεργειών και αποφάσεων του πράκτορα. Αυτό μπορεί να χρησιμοποιηθεί για τον εντοπισμό και την αντιμετώπιση προβλημάτων όπως εισβολή μέσω prompt (prompt injection), παραγωγή επιβλαβούς περιεχομένου ή κακή διαχείριση προσωπικών δεδομένων (PII). Για παράδειγμα, μπορείτε να αναθεωρήσετε ίχνη για να κατανοήσετε γιατί ένας πράκτορας παρείχε μια συγκεκριμένη απάντηση ή χρησιμοποίησε ένα συγκεκριμένο εργαλείο.
*   **Κύκλοι Συνεχούς Βελτίωσης**: Τα δεδομένα παρατηρησιμότητας είναι η βάση μιας επαναληπτικής διαδικασίας ανάπτυξης. Παρακολουθώντας πώς αποδίδουν οι πράκτορες στον πραγματικό κόσμο, οι ομάδες μπορούν να εντοπίσουν τομείς προς βελτίωση, να συγκεντρώσουν δεδομένα για προσαρμογή μοντέλων και να επικυρώσουν την επίδραση αλλαγών. Αυτό δημιουργεί έναν βρόχο ανατροφοδότησης όπου οι γνώσεις από την online αξιολόγηση ενημερώνουν τα offline πειράματα και βελτιώσεις, οδηγώντας σε προοδευτικά καλύτερη απόδοση των πρακτόρων.

## Σημαντικοί Δείκτες για Παρακολούθηση

Για να παρακολουθείτε και να κατανοείτε τη συμπεριφορά των πρακτόρων, ένα εύρος μετρήσεων και σημάτων πρέπει να καταγράφεται. Ενώ οι συγκεκριμένοι δείκτες μπορεί να ποικίλλουν ανάλογα με τον σκοπό του πράκτορα, μερικοί είναι καθολικά σημαντικοί.

Ακολουθούν μερικοί από τους πιο συνηθισμένους δείκτες που παρακολουθούν τα εργαλεία παρατηρησιμότητας:

**Καθυστέρηση:** Πόσο γρήγορα απαντά ο πράκτορας; Μακροχρόνιες αναμονές επηρεάζουν αρνητικά την εμπειρία του χρήστη. Θα πρέπει να μετράτε την καθυστέρηση για εργασίες και μεμονωμένα βήματα με το να ιχνηλατείτε εκτελέσεις πράκτορα. Για παράδειγμα, ένας πράκτορας που χρειάζεται 20 δευτερόλεπτα για όλες τις κλήσεις μοντέλου θα μπορούσε να επιταχυνθεί χρησιμοποιώντας ένα ταχύτερο μοντέλο ή εκτελώντας κλήσεις μοντέλων παράλληλα.

**Κόστη:** Πόσο κοστίζει κάθε εκτέλεση πράκτορα; Οι πράκτορες ΤΝ βασίζονται σε κλήσεις LLM που χρεώνονται ανά token ή σε εξωτερικές API. Η συχνή χρήση εργαλείων ή πολλαπλά prompts μπορεί να αυξήσει γρήγορα τα κόστη. Για παράδειγμα, εάν ένας πράκτορας καλεί ένα LLM πέντε φορές για οριακή βελτίωση ποιότητας, πρέπει να αξιολογήσετε αν το κόστος δικαιολογείται ή αν μπορείτε να μειώσετε τον αριθμό κλήσεων ή να χρησιμοποιήσετε φθηνότερο μοντέλο. Η παρακολούθηση σε πραγματικό χρόνο μπορεί επίσης να βοηθήσει στον εντοπισμό απρόσμενων αιχμών (π.χ. σφάλματα που προκαλούν υπερβολικούς βρόχους κλήσεων API).

**Σφάλματα Αιτήσεων:** Πόσες αιτήσεις απέτυχαν; Αυτό μπορεί να περιλαμβάνει σφάλματα API ή αποτυχημένες κλήσεις σε εργαλεία. Για να κάνετε τον πράκτορά σας πιο ανθεκτικό σε αυτά κατά την παραγωγή, μπορείτε να ρυθμίσετε μηχανισμούς εφεδρείας ή επαναπροσπάθειας. Π.χ. αν ο πάροχος LLM A είναι εκτός λειτουργίας, να μεταβαίνετε στον πάροχο LLM B ως εφεδρεία.

**Ανατροφοδότηση Χρηστών:** Η εφαρμογή άμεσων αξιολογήσεων από χρήστες παρέχει πολύτιμες πληροφορίες. Αυτό μπορεί να περιλαμβάνει ρητές αξιολογήσεις (👍θετική/👎αρνητική, ⭐1-5 αστέρια) ή κειμενικά σχόλια. Η συνεπής αρνητική ανατροφοδότηση θα πρέπει να σας ειδοποιεί καθώς αυτό είναι ένδειξη ότι ο πράκτορας δεν λειτουργεί όπως αναμένεται.

**Σιωπηλή Ανατροφοδότηση Χρηστών:** Οι συμπεριφορές των χρηστών παρέχουν έμμεση ανατροφοδότηση ακόμα και χωρίς ρητές αξιολογήσεις. Αυτό μπορεί να περιλαμβάνει άμεσα επαναδιατυπωμένα ερωτήματα, επαναλαμβανόμενες ερωτήσεις ή το πάτημα κουμπιού επανάληψης. Π.χ. αν δείτε ότι οι χρήστες ρωτούν ξανά και ξανά την ίδια ερώτηση, αυτό είναι ένδειξη ότι ο πράκτορας δεν λειτουργεί όπως αναμένεται.

**Ακρίβεια:** Πόσο συχνά ο πράκτορας παράγει σωστά ή επιθυμητά αποτελέσματα; Οι ορισμοί της ακρίβειας ποικίλλουν (π.χ. ορθότητα επίλυσης προβλημάτων, ακρίβεια ανάκτησης πληροφοριών, ικανοποίηση χρήστη). Το πρώτο βήμα είναι να ορίσετε τι σημαίνει επιτυχία για τον πράκτορά σας. Μπορείτε να παρακολουθείτε την ακρίβεια μέσω αυτοματοποιημένων ελέγχων, βαθμολογιών αξιολόγησης ή ετικετών ολοκλήρωσης εργασιών. Για παράδειγμα, επισημαίνοντας ίχνη ως "succeeded" ή "failed".

**Αυτοματοποιημένοι Δείκτες Αξιολόγησης:** Μπορείτε επίσης να ρυθμίσετε αυτοματοποιημένες αξιολογήσεις. Για παράδειγμα, μπορείτε να χρησιμοποιήσετε ένα LLM για να βαθμολογήσει την έξοδο του πράκτορα π.χ. αν είναι χρήσιμη, ακριβής ή όχι. Υπάρχουν επίσης αρκετές βιβλιοθήκες ανοικτού κώδικα που βοηθούν στη βαθμολόγηση διαφορετικών πτυχών του πράκτορα. Π.χ. [RAGAS](https://docs.ragas.io/) για RAG agents ή [LLM Guard](https://llm-guard.com/) για τον εντοπισμό επιβλαβούς γλώσσας ή εισαγωγής μέσω prompt.

Στην πράξη, ένας συνδυασμός αυτών των δεικτών δίνει την καλύτερη κάλυψη της υγείας ενός πράκτορα ΤΝ. Στο [παραδειγματικό notebook αυτού του κεφαλαίου](./code_samples/10_autogen_evaluation.ipynb), θα σας δείξουμε πώς μοιάζουν αυτοί οι δείκτες σε πραγματικά παραδείγματα αλλά πρώτα, θα μάθουμε πώς μοιάζει μια τυπική ροή εργασίας αξιολόγησης.

## Εξοπλίστε τον Πράκτορά σας με Εργαλεία Παρατηρησιμότητας

Για να συγκεντρώσετε δεδομένα ιχνηλάτησης, θα χρειαστεί να εξοπλίσετε (instrument) τον κώδικά σας. Ο στόχος είναι να εξοπλίσετε τον κώδικα του πράκτορα ώστε να εκπέμπει ίχνη και μετρήσεις που μπορούν να συλληφθούν, να επεξεργαστούν και να οπτικοποιηθούν από μια πλατφόρμα παρατηρησιμότητας.

**OpenTelemetry (OTel):** Το [OpenTelemetry](https://opentelemetry.io/) έχει αναδειχθεί ως βιομηχανικό πρότυπο για την παρατηρησιμότητα LLM. Παρέχει ένα σύνολο API, SDK και εργαλείων για τη δημιουργία, συλλογή και εξαγωγή τηλεμετρικών δεδομένων.

Υπάρχουν πολλές βιβλιοθήκες εξοπλισμού (instrumentation) που τυλίγουν υπάρχοντα πλαίσια πρακτόρων και διευκολύνουν την εξαγωγή spans OpenTelemetry σε ένα εργαλείο παρατηρησιμότητας. Παρακάτω είναι ένα παράδειγμα για το πώς να εξοπλίσετε έναν πράκτορα AutoGen με τη βιβλιοθήκη [OpenLit instrumentation](https://github.com/openlit/openlit):

```python
import openlit

openlit.init(tracer = langfuse._otel_tracer, disable_batch = True)
```

Το [παραδειγματικό notebook](./code_samples/10_autogen_evaluation.ipynb) σε αυτό το κεφάλαιο θα δείξει πώς να εξοπλίσετε τον πράκτορά σας AutoGen.

**Χειροκίνητη Δημιουργία Span:** Ενώ οι βιβλιοθήκες εξοπλισμού παρέχουν μια καλή βάση, συχνά υπάρχουν περιπτώσεις όπου χρειάζονται πιο λεπτομερείς ή προσαρμοσμένες πληροφορίες. Μπορείτε να δημιουργήσετε χειροκίνητα spans για να προσθέσετε προσαρμοσμένη εφαρμοστική λογική. Πιο σημαντικό, μπορούν να εμπλουτίσουν αυτόματα ή χειροκίνητα δημιουργημένα spans με προσαρμοσμένα attributes (γνωστά και ως tags ή μεταδεδομένα). Αυτά τα attributes μπορούν να περιλαμβάνουν επιχειρηματικού επιπέδου δεδομένα, ενδιάμεσα υπολογιστικά αποτελέσματα ή οποιοδήποτε πλαίσιο που μπορεί να είναι χρήσιμο για τη διάγνωση ή ανάλυση, όπως `user_id`, `session_id`, ή `model_version`.

Παράδειγμα για το πώς να δημιουργήσετε ίχνη και spans χειροκίνητα με το [Langfuse Python SDK](https://langfuse.com/docs/sdk/python/sdk-v3): 

```python
from langfuse import get_client
 
langfuse = get_client()
 
span = langfuse.start_span(name="my-span")
 
span.end()
```

## Αξιολόγηση Πράκτορα

Η παρατηρησιμότητα μας δίνει μετρήσεις, αλλά η αξιολόγηση είναι η διαδικασία ανάλυσης αυτών των δεδομένων (και η εκτέλεση δοκιμών) για να καθορίσουμε πόσο καλά αποδίδει ένας πράκτορας ΤΝ και πώς μπορεί να βελτιωθεί. Με άλλα λόγια, μόλις έχετε αυτά τα ίχνη και τις μετρήσεις, πώς τα χρησιμοποιείτε για να κρίνετε τον πράκτορα και να πάρετε αποφάσεις;

Η τακτική αξιολόγηση είναι σημαντική επειδή οι πράκτορες ΤΝ συχνά δεν είναι ντετερμινιστικοί και μπορούν να εξελιχθούν (μέσω ενημερώσεων ή μετατοπίσεων στη συμπεριφορά του μοντέλου) – χωρίς αξιολόγηση, δεν θα ξέρετε αν ο «έξυπνος πράκτοράς» σας κάνει πραγματικά καλά τη δουλειά του ή αν έχει υποστεί υποβάθμιση.

Υπάρχουν δύο κατηγορίες αξιολογήσεων για πράκτορες ΤΝ: **online αξιολόγηση** και **offline αξιολόγηση**. Και οι δύο είναι πολύτιμες και συμπληρώνουν η μία την άλλη. Συνήθως ξεκινούμε με offline αξιολόγηση, καθώς αυτό είναι το ελάχιστο αναγκαίο βήμα πριν από την ανάπτυξη οποιουδήποτε πράκτορα.

### Offline Αξιολόγηση

![Στοιχεία συνόλου δεδομένων στο Langfuse](https://langfuse.com/images/cookbook/example-autogen-evaluation/example-dataset.png)

Αυτή περιλαμβάνει την αξιολόγηση του πράκτορα σε ελεγχόμενο περιβάλλον, συνήθως χρησιμοποιώντας test datasets, όχι ζωντανά ερωτήματα χρηστών. Χρησιμοποιείτε επιμελημένα σύνολα δεδομένων όπου γνωρίζετε ποιο είναι το αναμενόμενο αποτέλεσμα ή η σωστή συμπεριφορά και στη συνέχεια τρέχετε τον πράκτορά σας πάνω σε αυτά.

Για παράδειγμα, αν έχετε δημιουργήσει έναν πράκτορα για μαθηματικά προβλήματα λέξης, μπορεί να έχετε ένα [test dataset](https://huggingface.co/datasets/gsm8k) με 100 προβλήματα με γνωστές απαντήσεις. Η offline αξιολόγηση γίνεται συχνά κατά την ανάπτυξη (και μπορεί να αποτελεί μέρος CI/CD pipelines) για να ελέγξετε βελτιώσεις ή να προλάβετε υποβαθμίσεις. Το πλεονέκτημα είναι ότι είναι **επανάληπτη και μπορείτε να λάβετε σαφείς μετρικές ακρίβειας αφού έχετε την ground truth**. Μπορείτε επίσης να προσομοιώσετε ερωτήματα χρηστών και να μετρήσετε τις απαντήσεις του πράκτορα έναντι ιδανικών απαντήσεων ή να χρησιμοποιήσετε αυτοματοποιημένους δείκτες όπως περιγράφτηκε παραπάνω.

Η βασική πρόκληση με την offline αξιολόγηση είναι να διασφαλίσετε ότι το test dataset σας είναι περιεκτικό και παραμένει σχετικό – ο πράκτορας μπορεί να αποδίδει καλά σε ένα σταθερό test set αλλά να συναντήσει πολύ διαφορετικά ερωτήματα στην παραγωγή. Επομένως, θα πρέπει να κρατάτε τα test sets ενημερωμένα με νέες περιπτώσεις άκρων και παραδείγματα που αντικατοπτρίζουν πραγματικά σενάρια. Μια μίξη από μικρές “smoke test” περιπτώσεις και μεγαλύτερα σύνολα αξιολόγησης είναι χρήσιμη: μικρά σύνολα για γρήγορους ελέγχους και μεγαλύτερα για ευρύτερες μετρικές απόδοσης.

### Online Αξιολόγηση 

![Επισκόπηση μετρήσεων παρατηρησιμότητας](https://langfuse.com/images/cookbook/example-autogen-evaluation/dashboard.png)

Αυτό αναφέρεται στην αξιολόγηση του πράκτορα σε πραγματικό, ζωντανό περιβάλλον, δηλαδή κατά τη διάρκεια της πραγματικής χρήσης σε παραγωγή. Η online αξιολόγηση περιλαμβάνει την παρακολούθηση της απόδοσης του πράκτορα σε πραγματικές αλληλεπιδράσεις χρηστών και την ανάλυση των αποτελεσμάτων συνεχώς.

Για παράδειγμα, μπορεί να παρακολουθείτε ποσοστά επιτυχίας, βαθμολογίες ικανοποίησης χρηστών ή άλλες μετρήσεις σε ζωντανή κίνηση. Το πλεονέκτημα της online αξιολόγησης είναι ότι **συλλαμβάνει πράγματα που μπορεί να μην προβλέψετε σε εργαστηριακό περιβάλλον** – μπορείτε να παρατηρήσετε μετατόπιση μοντέλου με την πάροδο του χρόνου (αν η αποτελεσματικότητα του πράκτορα μειώνεται καθώς αλλάζουν τα μοτίβα εισόδου) και να εντοπίσετε απρόβλεπτα ερωτήματα ή καταστάσεις που δεν ήταν στο τεστ σας. Παρέχει μια αληθινή εικόνα του πώς συμπεριφέρεται ο πράκτορας στο πεδίο.

Η online αξιολόγηση συχνά περιλαμβάνει τη συλλογή σιωπηρής και ρητής ανατροφοδότησης χρηστών, όπως συζητήθηκε, και ενδεχομένως τη διεξαγωγή shadow tests ή A/B tests (όπου μια νέα έκδοση του πράκτορα τρέχει παράλληλα για σύγκριση με την παλιά). Η πρόκληση είναι ότι μπορεί να είναι δύσκολο να αποκτήσετε αξιόπιστες ετικέτες ή βαθμολογίες για ζωντανές αλληλεπιδράσεις – μπορεί να βασίζεστε σε ανατροφοδότηση χρηστών ή σε downstream μετρικές (π.χ. αν ο χρήστης κλικαρε το αποτέλεσμα).

### Συνδυασμός των δύο

Η online και offline αξιολόγηση δεν είναι αμοιβαία αποκλειόμενες· είναι εξαιρετικά συμπληρωματικές. Οι γνώσεις από την online παρακολούθηση (π.χ. νέοι τύποι ερωτημάτων χρηστών όπου ο πράκτορας αποδίδει άσχημα) μπορούν να χρησιμοποιηθούν για να εμπλουτίσουν και να βελτιώσουν τα offline test datasets. Αντίστροφα, οι πράκτορες που αποδίδουν καλά σε offline tests μπορούν στη συνέχεια να αναπτυχθούν με μεγαλύτερη εμπιστοσύνη και να παρακολουθούνται online.

Στην πραγματικότητα, πολλές ομάδες υιοθετούν έναν βρόχο:

_evaluate offline -> deploy -> monitor online -> collect new failure cases -> add to offline dataset -> refine agent -> repeat_.

## Συνηθισμένα Προβλήματα

Καθώς αναπτύσσετε πρακτορείς ΤΝ σε παραγωγή, μπορεί να αντιμετωπίσετε διάφορες προκλήσεις. Ακολουθούν κάποια κοινά προβλήματα και πιθανές λύσεις:

| **Πρόβλημα**    | **Πιθανή Λύση**   |
| ------------- | ------------------ |
| Ο πράκτορας ΤΝ δεν εκτελεί σταθερά τις εργασίες | - Βελτιώστε το prompt που δίνεται στον πράκτορα· να είστε σαφείς στους στόχους.<br>- Εντοπίστε πού ο διαχωρισμός των καθηκόντων σε υπο-εργασίες και η ανάθεση τους σε πολλαπλούς πράκτορες μπορεί να βοηθήσει. |
| Ο πράκτορας ΤΝ μπαίνει σε συνεχείς βρόχους  | - Βεβαιωθείτε ότι έχετε σαφείς όρους και προϋποθέσεις τερματισμού ώστε ο πράκτορας να γνωρίζει πότε να σταματήσει τη διαδικασία.<br>- Για σύνθετες εργασίες που απαιτούν συλλογισμό και σχεδιασμό, χρησιμοποιήστε ένα μεγαλύτερο μοντέλο που είναι εξειδικευμένο σε εργασίες συλλογισμού. |
| Οι κλήσεις εργαλείων του πράκτορα δεν αποδίδουν καλά   | - Δοκιμάστε και επικυρώστε την έξοδο του εργαλείου έξω από το σύστημα του πράκτορα.<br>- Βελτιώστε τις ορισμένες παραμέτρους, τα prompts και την ονομασία των εργαλείων.  |
| Το σύστημα πολλαπλών πρακτόρων δεν αποδίδει σταθερά | - Βελτιώστε τα prompts που δίνονται σε κάθε πράκτορα ώστε να είναι συγκεκριμένα και διακριτά μεταξύ τους.<br>- Χτίστε ένα ιεραρχικό σύστημα χρησιμοποιώντας έναν "routing" ή controller πράκτορα για να αποφασίζει ποιος πράκτορας είναι ο κατάλληλος. |

Πολλά από αυτά τα ζητήματα μπορούν να εντοπιστούν πιο αποτελεσματικά με την παρατηρησιμότητα σε ισχύ. Τα ίχνη και οι μετρήσεις που συζητήσαμε νωρίτερα βοηθούν στον ακριβή εντοπισμό του σημείου στη ροή εργασίας του πράκτορα όπου εμφανίζονται τα προβλήματα, καθιστώντας τη διάγνωση και τη βελτιστοποίηση πολύ πιο αποδοτική.

## Διαχείριση Κόστους
Ακολουθούν μερικές στρατηγικές για τη διαχείριση του κόστους ανάπτυξης πρακτόρων AI σε παραγωγή:

**Χρήση μικρότερων μοντέλων:** Τα Small Language Models (SLMs) μπορούν να αποδώσουν καλά σε ορισμένες περιπτώσεις χρήσης με πρακτορικές λειτουργίες και θα μειώσουν σημαντικά το κόστος. Όπως αναφέρθηκε νωρίτερα, η κατασκευή ενός συστήματος αξιολόγησης για να καθορίσετε και να συγκρίνετε την απόδοση σε σχέση με μεγαλύτερα μοντέλα είναι ο καλύτερος τρόπος για να κατανοήσετε πόσο καλά θα αποδώσει ένα SLM στη δική σας περίπτωση χρήσης. Σκεφτείτε να χρησιμοποιείτε SLMs για απλούστερες εργασίες όπως ταξινόμηση προθέσεων ή εξαγωγή παραμέτρων, ενώ να διατηρείτε μεγαλύτερα μοντέλα για σύνθετη συλλογιστική.

**Χρήση ενός μοντέλου δρομολόγησης:** Παρόμοια στρατηγική είναι να χρησιμοποιήσετε ποικιλία μοντέλων και μεγεθών. Μπορείτε να χρησιμοποιήσετε ένα LLM/SLM ή μια serverless συνάρτηση για να δρομολογείτε αιτήματα βάσει της πολυπλοκότητας προς τα πιο κατάλληλα μοντέλα. Αυτό θα βοηθήσει επίσης στη μείωση του κόστους ενώ ταυτόχρονα εξασφαλίζει απόδοση στις κατάλληλες εργασίες. Για παράδειγμα, δρομολογήστε απλά ερωτήματα σε μικρότερα, γρηγορότερα μοντέλα, και χρησιμοποιήστε τα ακριβά μεγάλα μοντέλα μόνο για εργασίες σύνθετης συλλογιστικής.

**Αποθήκευση Απαντήσεων στην cache:** Η αναγνώριση κοινών αιτημάτων και εργασιών και η παροχή των απαντήσεων πριν περάσουν από το πρακτορικό σας σύστημα είναι ένας καλός τρόπος για να μειώσετε τον όγκο παρόμοιων αιτημάτων. Μπορείτε ακόμη να υλοποιήσετε μια ροή για να προσδιορίσετε πόσο παρόμοιο είναι ένα αίτημα με τα αποθηκευμένα στην cache αιτήματά σας χρησιμοποιώντας πιο βασικά μοντέλα AI. Αυτή η στρατηγική μπορεί να μειώσει σημαντικά το κόστος για συχνές ερωτήσεις ή κοινές ροές εργασιών.

## Ας δούμε πώς λειτουργεί αυτό στην πράξη

Στο [παραδειγματικό notebook αυτού του τμήματος](./code_samples/10_autogen_evaluation.ipynb), θα δούμε παραδείγματα του πώς μπορούμε να χρησιμοποιήσουμε εργαλεία παρατηρησιμότητας για να παρακολουθούμε και να αξιολογούμε τον πράκτορά μας.


### Έχετε περισσότερες ερωτήσεις σχετικά με πρακτόρες AI σε παραγωγή;

Εγγραφείτε στο [Discord του Microsoft Foundry](https://aka.ms/ai-agents/discord) για να συναντήσετε άλλους μαθητευόμενους, να παρακολουθήσετε ώρες γραφείου και να λάβετε απαντήσεις στις ερωτήσεις σας για τους Πράκτορες AI.

## Προηγούμενο Μάθημα

[Σχεδιαστικό Πρότυπο Μεταγνωσίας](../09-metacognition/README.md)

## Επόμενο Μάθημα

[Πρωτόκολλα Πρακτόρων](../11-agentic-protocols/README.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
Αποποίηση ευθυνών:
Αυτό το έγγραφο έχει μεταφραστεί με χρήση της υπηρεσίας μετάφρασης με τεχνητή νοημοσύνη Co-op Translator (https://github.com/Azure/co-op-translator). Παρότι καταβάλουμε προσπάθειες για ακρίβεια, παρακαλούμε να έχετε υπόψη ότι οι αυτοματοποιημένες μεταφράσεις ενδέχεται να περιέχουν σφάλματα ή ανακρίβειες. Το πρωτότυπο έγγραφο στην αρχική του γλώσσα πρέπει να θεωρείται η αυθεντική πηγή. Για κρίσιμες πληροφορίες συνιστάται επαγγελματική ανθρώπινη μετάφραση. Δεν ευθυνόμαστε για τυχόν παρεξηγήσεις ή λανθασμένες ερμηνείες που προκύπτουν από τη χρήση αυτής της μετάφρασης.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->