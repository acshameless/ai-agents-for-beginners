# Χρήση Πρωτοκόλλων Πρακτόρων (MCP, A2A και NLWeb)

[![Πρωτόκολλα Πρακτόρων](../../../translated_images/el/lesson-11-thumbnail.b6c742949cf1ce2a.webp)](https://youtu.be/X-Dh9R3Opn8)

> _(Κάντε κλικ στην εικόνα παραπάνω για να δείτε το βίντεο αυτού του μαθήματος)_

Καθώς η χρήση των πράκτορων AI αυξάνεται, αυξάνεται και η ανάγκη για πρωτόκολλα που εξασφαλίζουν τυποποίηση, ασφάλεια και υποστήριξη ανοιχτής καινοτομίας. Σε αυτό το μάθημα, θα καλύψουμε 3 πρωτόκολλα που αποσκοπούν στην κάλυψη αυτής της ανάγκης - Model Context Protocol (MCP), Agent to Agent (A2A) και Natural Language Web (NLWeb).

## Εισαγωγή

Σε αυτό το μάθημα, θα καλύψουμε:

•  Πώς **MCP** επιτρέπει στους πράκτορες AI να έχουν πρόσβαση σε εξωτερικά εργαλεία και δεδομένα για να ολοκληρώσουν εργασίες χρηστών.

•  Πώς **A2A** επιτρέπει την επικοινωνία και συνεργασία μεταξύ διαφορετικών πρακτόρων AI.

• Πώς **NLWeb** φέρνει διεπαφές φυσικής γλώσσας σε οποιονδήποτε ιστότοπο, επιτρέποντας στους πράκτορες AI να ανακαλύψουν και να αλληλεπιδράσουν με το περιεχόμενο.

## Στόχοι Μάθησης

• **Αναγνωρίστε** τον βασικό σκοπό και τα οφέλη του MCP, του A2A και του NLWeb στο πλαίσιο των πρακτόρων AI.

• **Εξηγήστε** πώς κάθε πρωτόκολλο διευκολύνει την επικοινωνία και αλληλεπίδραση μεταξύ LLMs, εργαλείων και άλλων πρακτόρων.

• **Αναγνωρίστε** τους διακριτούς ρόλους που παίζει κάθε πρωτόκολλο στην κατασκευή πολύπλοκων πρακτορικών συστημάτων.

## Πρωτόκολλο Πλαισίου Μοντέλου

Το **Model Context Protocol (MCP)** είναι ένα ανοιχτό πρότυπο που παρέχει έναν τυποποιημένο τρόπο για εφαρμογές να παρέχουν πλαίσιο και εργαλεία στα LLMs. Αυτό επιτρέπει έναν "universal adaptor" σε διαφορετικές πηγές δεδομένων και εργαλεία με τα οποία οι πράκτορες AI μπορούν να συνδεθούν με συνεπή τρόπο.

Ας δούμε τα στοιχεία του MCP, τα οφέλη σε σύγκριση με τη χρήση απευθείας API, και ένα παράδειγμα του πώς πράκτορες AI μπορεί να χρησιμοποιήσουν έναν MCP server.

### Βασικά Συστατικά του MCP

Το MCP λειτουργεί σε μια **αρχιτεκτονική πελάτη-διακομιστή** και τα βασικά στοιχεία είναι:

• **Hosts** είναι εφαρμογές LLM (για παράδειγμα ένας επεξεργαστής κώδικα όπως VSCode) που ξεκινούν τις συνδέσεις προς έναν MCP Server.

• **Clients** είναι συστατικά μέσα στην εφαρμογή host που διατηρούν συνδέσεις ένα προς ένα με servers.

• **Servers** είναι ελαφριές εφαρμογές που εκθέτουν συγκεκριμένες δυνατότητες.

Στο πρωτόκολλο περιλαμβάνονται τρεις βασικές πρωταρχικές λειτουργίες οι οποίες είναι οι δυνατότητες ενός MCP Server:

• **Tools**: Πρόκειται για διακριτές ενέργειες ή λειτουργίες που μπορεί να καλέσει ένας πράκτορας AI για να εκτελέσει μια δράση. Για παράδειγμα, μια υπηρεσία καιρού μπορεί να εκθέτει ένα εργαλείο "get weather", ή ένας διακομιστής ηλεκτρονικού εμπορίου μπορεί να εκθέτει ένα εργαλείο "purchase product". Οι MCP servers εμφανίζουν το όνομα κάθε εργαλείου, την περιγραφή και το σχήμα εισόδου/εξόδου στη λίστα δυνατοτήτων τους.

• **Resources**: Πρόκειται για δεδομένα μόνο για ανάγνωση ή έγγραφα που μπορεί να παρέχει ένας MCP server, και οι clients μπορούν να τα ανακτούν κατά ζήτηση. Παραδείγματα περιλαμβάνουν περιεχόμενο αρχείων, εγγραφές βάσεων δεδομένων ή αρχεία καταγραφής. Τα Resources μπορεί να είναι κείμενο (όπως κώδικας ή JSON) ή δυαδικά (όπως εικόνες ή PDF).

• **Prompts**: Πρόκειται για προκαθορισμένα πρότυπα που παρέχουν προτεινόμενες εντολές, επιτρέποντας πιο σύνθετες ροές εργασίας.

### Οφέλη του MCP

Το MCP προσφέρει σημαντικά πλεονεκτήματα για τους πράκτορες AI:

• **Dynamic Tool Discovery**: Οι πράκτορες μπορούν δυναμικά να λαμβάνουν μια λίστα διαθέσιμων εργαλείων από έναν διακομιστή μαζί με περιγραφές των λειτουργιών τους. Αυτό έρχεται σε αντίθεση με τα παραδοσιακά APIs, τα οποία συχνά απαιτούν στατική κωδικοποίηση για ενσωματώσεις, πράγμα που σημαίνει ότι οποιαδήποτε αλλαγή στο API απαιτεί ενημερώσεις κώδικα. Το MCP προσφέρει μια προσέγγιση "integrate once", οδηγώντας σε μεγαλύτερη προσαρμοστικότητα.

• **Interoperability Across LLMs**: Το MCP λειτουργεί με διαφορετικά LLMs, παρέχοντας ευελιξία στην εναλλαγή βασικών μοντέλων για αξιολόγηση καλύτερης απόδοσης.

• **Standardized Security**: Το MCP περιλαμβάνει μια τυπική μέθοδο πιστοποίησης, βελτιώνοντας την κλιμακωσιμότητα όταν προστίθεται πρόσβαση σε επιπλέον MCP servers. Αυτό είναι απλούστερο από τη διαχείριση διαφορετικών κλειδιών και τύπων αυθεντικοποίησης για διάφορα παραδοσιακά APIs.

### Παράδειγμα MCP

![Διάγραμμα MCP](../../../translated_images/el/mcp-diagram.e4ca1cbd551444a1.webp)

Φανταστείτε ότι ένας χρήστης θέλει να κλείσει μια πτήση χρησιμοποιώντας έναν βοηθό AI που τροφοδοτείται από MCP.

1. **Σύνδεση**: Ο βοηθός AI (ο πελάτης MCP) συνδέεται με έναν MCP server που παρέχεται από μια αεροπορική εταιρεία.

2. **Ανακάλυψη Εργαλείων**: Ο client ρωτάει τον MCP server της αεροπορικής, "Τι εργαλεία έχετε διαθέσιμα;" Ο server απαντά με εργαλεία όπως "search flights" και "book flights".

3. **Εκκίνηση Εργαλείου**: Στη συνέχεια ζητάτε από τον βοηθό AI, "Παρακαλώ αναζήτησε πτήση από Portland προς Honolulu." Ο βοηθός AI, χρησιμοποιώντας το LLM του, εντοπίζει ότι πρέπει να καλέσει το εργαλείο "search flights" και περνάει τις σχετικές παραμέτρους (origin, destination) στον MCP server.

4. **Εκτέλεση και Απόκριση**: Ο MCP server, ενεργώντας ως wrapper, πραγματοποιεί την πραγματική κλήση στο εσωτερικό API κρατήσεων της αεροπορικής. Στη συνέχεια λαμβάνει τις πληροφορίες πτήσης (π.χ., δεδομένα JSON) και τις στέλνει πίσω στον βοηθό AI.

5. **Περαιτέρω Αλληλεπίδραση**: Ο βοηθός AI παρουσιάζει τις επιλογές πτήσεων. Μόλις επιλέξετε μια πτήση, ο βοηθός μπορεί να καλέσει το εργαλείο "book flight" στον ίδιο MCP server, ολοκληρώνοντας την κράτηση.

## Πρωτόκολλο Πράκτορα-προς-Πράκτορα (A2A)

Ενώ το MCP επικεντρώνεται στη σύνδεση των LLMs με εργαλεία, το **Agent-to-Agent (A2A) protocol** πηγαίνει ένα βήμα παραπέρα επιτρέποντας την επικοινωνία και συνεργασία μεταξύ διαφορετικών πρακτόρων AI. Το A2A συνδέει πράκτορες AI σε διαφορετικές οργανώσεις, περιβάλλοντα και τεχνολογικά stacks για να ολοκληρώσουν μια κοινή εργασία.

Θα εξετάσουμε τα συστατικά και τα οφέλη του A2A, μαζί με ένα παράδειγμα για το πώς θα μπορούσε να εφαρμοστεί στην εφαρμογή ταξιδιών μας.

### Βασικά Συστατικά του A2A

Το A2A επικεντρώνεται στην ενεργοποίηση της επικοινωνίας μεταξύ πρακτόρων και στο να συνεργάζονται για να ολοκληρώσουν ένα υπο-καθήκον του χρήστη. Κάθε στοιχείο του πρωτοκόλλου συνεισφέρει σε αυτό:

#### Κάρτα Πράκτορα

Παρόμοιο με το πώς ένας MCP server μοιράζεται μια λίστα εργαλείων, μια Κάρτα Πράκτορα έχει:
- Το Όνομα του Πράκτορα .
- Μια **περιγραφή των γενικών εργασιών** που ολοκληρώνει.
- Μια **λίστα συγκεκριμένων δεξιοτήτων** με περιγραφές για να βοηθήσει άλλους πράκτορες (ή ακόμα και ανθρώπινους χρήστες) να κατανοήσουν πότε και γιατί θα ήθελαν να καλέσουν αυτόν τον πράκτορα.
- Το **τρέχον Endpoint URL** του πράκτορα
- Την **έκδοση** και τις **δυνατότητες** του πράκτορα, όπως streaming απαντήσεις και push ειδοποιήσεις.

#### Εκτελεστής Πράκτορα

Ο Εκτελεστής Πράκτορα είναι υπεύθυνος για τη **μεταβίβαση του πλαισίου της συνομιλίας του χρήστη στον απομακρυσμένο πράκτορα**, ο απομακρυσμένος πράκτορας χρειάζεται αυτό για να κατανοήσει την εργασία που πρέπει να ολοκληρωθεί. Σε έναν A2A server, ένας πράκτορας χρησιμοποιεί το δικό του Μεγάλο Γλωσσικό Μοντέλο (LLM) για να αναλύσει εισερχόμενα αιτήματα και να εκτελέσει εργασίες χρησιμοποιώντας τα δικά του εσωτερικά εργαλεία.

#### Αντικείμενο Εργασίας

Μόλις ένας απομακρυσμένος πράκτορας ολοκληρώσει την αιτηθείσα εργασία, το αποτέλεσμα της εργασίας του δημιουργείται ως ένα αντικείμενο εργασίας (artifact). Ένα artifact **περιέχει το αποτέλεσμα της εργασίας του πράκτορα**, μια **περιγραφή του τι ολοκληρώθηκε**, και το **κείμενο πλαισίου** που αποστέλλεται μέσω του πρωτοκόλλου. Αφού το artifact σταλεί, η σύνδεση με τον απομακρυσμένο πράκτορα κλείνει μέχρι να χρειαστεί ξανά.

#### Ουρά Γεγονότων

Αυτό το συστατικό χρησιμοποιείται για **χειρισμό ενημερώσεων και μεταβίβαση μηνυμάτων**. Είναι ιδιαίτερα σημαντικό σε παραγωγικά πρακτορικά συστήματα για να αποφεύγεται το κλείσιμο της σύνδεσης μεταξύ πρακτόρων πριν την ολοκλήρωση μιας εργασίας, ειδικά όταν οι χρόνοι ολοκλήρωσης εργασιών μπορεί να διαρκέσουν περισσότερο.

### Οφέλη του A2A

• **Ενισχυμένη Συνεργασία**: Δίνει τη δυνατότητα σε πράκτορες από διαφορετικούς παρόχους και πλατφόρμες να αλληλεπιδρούν, να μοιράζονται πλαίσιο και να συνεργάζονται, διευκολύνοντας την απρόσκοπτη αυτοματοποίηση σε παραδοσιακά αποσυνδεδεμένα συστήματα.

• **Ευελιξία Επιλογής Μοντέλου**: Κάθε πράκτορας A2A μπορεί να αποφασίσει ποιο LLM θα χρησιμοποιήσει για να εξυπηρετήσει τα αιτήματά του, επιτρέποντας βελτιστοποιημένα ή fine-tuned μοντέλα ανά πράκτορα, σε αντίθεση με μια ενιαία σύνδεση LLM σε ορισμένα σενάρια MCP.

• **Ενσωματωμένη Πιστοποίηση**: Η πιστοποίηση είναι ενσωματωμένη απευθείας στο πρωτόκολλο A2A, παρέχοντας ένα ισχυρό πλαίσιο ασφάλειας για τις αλληλεπιδράσεις των πρακτόρων.

### Παράδειγμα A2A

![Διάγραμμα A2A](../../../translated_images/el/A2A-Diagram.8666928d648acc26.webp)

Ας επεκτείνουμε το σενάριο κρατήσεων ταξιδιών μας, αλλά αυτή τη φορά χρησιμοποιώντας A2A.

1. **Αίτημα Χρήστη προς Πολυ-Πράκτορα**: Ένας χρήστης αλληλεπιδρά με έναν "Travel Agent" A2A client/agent, ίσως λέγοντας, "Παρακαλώ κλείσε ολόκληρο ταξίδι για Honolulu για την επόμενη εβδομάδα, συμπεριλαμβανομένων πτήσεων, ξενοδοχείου και ενοικίασης αυτοκινήτου".

2. **Ορχήστρωση από τον Travel Agent**: Ο Travel Agent λαμβάνει αυτό το σύνθετο αίτημα. Χρησιμοποιεί το LLM του για να σκεφτεί πάνω στην εργασία και να καθορίσει ότι χρειάζεται να αλληλεπιδράσει με άλλους εξειδικευμένους πράκτορες.

3. **Δια-πρακτορική Επικοινωνία**: Ο Travel Agent χρησιμοποιεί το πρωτόκολλο A2A για να συνδεθεί με κατώτερους πράκτορες, όπως έναν «Πράκτορα Αεροπορικής», έναν «Πράκτορα Ξενοδοχείου» και έναν «Πράκτορα Ενοικίασης Αυτοκινήτου» που έχουν δημιουργηθεί από διαφορετικές εταιρείες.

4. **Ανατεθείσα Εκτέλεση Εργασιών**: Ο Travel Agent στέλνει συγκεκριμένες εργασίες σε αυτούς τους εξειδικευμένους πράκτορες (π.χ., "Βρες πτήσεις προς Honolulu", "Κλείσε ξενοδοχείο", "Ενοικίασε αυτοκίνητο"). Κάθε ένας από αυτούς τους εξειδικευμένους πράκτορες, τρέχοντας τα δικά του LLMs και χρησιμοποιώντας τα δικά του εργαλεία (που θα μπορούσαν να είναι οι ίδιοι MCP servers), εκτελεί το συγκεκριμένο μέρος της κράτησης.

5. **Συγκεντρωμένη Απόκριση**: Μόλις όλοι οι κατώτεροι πράκτορες ολοκληρώσουν τις εργασίες τους, ο Travel Agent συγκεντρώνει τα αποτελέσματα (λεπτομέρειες πτήσης, επιβεβαίωση ξενοδοχείου, κράτηση ενοικίασης αυτοκινήτου) και στέλνει μια ολοκληρωμένη, σε μορφή συνομιλίας, απάντηση πίσω στον χρήστη.

## Natural Language Web (NLWeb)

Οι ιστοσελίδες εδώ και καιρό είναι ο κύριος τρόπος με τον οποίο οι χρήστες αποκτούν πρόσβαση σε πληροφορίες και δεδομένα στο διαδίκτυο.

Ας δούμε τα διαφορετικά συστατικά του NLWeb, τα οφέλη του NLWeb και ένα παράδειγμα πώς λειτουργεί το NLWeb μας εξετάζοντας την εφαρμογή ταξιδιών μας.

### Συστατικά του NLWeb

- **NLWeb Application (Core Service Code)**: Το σύστημα που επεξεργάζεται ερωτήματα φυσικής γλώσσας. Συνδέει τα διαφορετικά μέρη της πλατφόρμας για να δημιουργήσει απαντήσεις. Μπορείτε να το σκεφτείτε ως τη **μηχανή που τροφοδοτεί τις δυνατότητες φυσικής γλώσσας** ενός ιστότοπου.

- **NLWeb Protocol**: Πρόκειται για ένα **βασικό σύνολο κανόνων για την αλληλεπίδραση φυσικής γλώσσας** με έναν ιστότοπο. Επιστρέφει απαντήσεις σε μορφή JSON (συχνά χρησιμοποιώντας Schema.org). Ο σκοπός του είναι να δημιουργήσει ένα απλό θεμέλιο για το "AI Web", με τον ίδιο τρόπο που το HTML έκανε δυνατό το κοινόχρηστο των εγγράφων στο διαδίκτυο.

- **MCP Server (Model Context Protocol Endpoint)**: Κάθε ρύθμιση NLWeb λειτουργεί επίσης ως MCP server. Αυτό σημαίνει ότι μπορεί να **μοιράζεται εργαλεία (όπως μια μέθοδο "ask") και δεδομένα** με άλλα συστήματα AI. Στην πράξη, αυτό κάνει το περιεχόμενο και τις δυνατότητες του ιστότοπου χρησιμοποιήσιμες από πράκτορες AI, επιτρέποντας στον ιστότοπο να γίνει μέρος του ευρύτερου "οικοσυστήματος πρακτόρων".

- **Embedding Models**: Αυτά τα μοντέλα χρησιμοποιούνται για να **μετατρέψουν το περιεχόμενο του ιστότοπου σε αριθμητικές αναπαραστάσεις που ονομάζονται vectors** (embeddings). Αυτά τα vectors αποτυπώνουν σημασία με τρόπο που οι υπολογιστές μπορούν να συγκρίνουν και να αναζητήσουν. Αποθηκεύονται σε μια ειδική βάση δεδομένων, και οι χρήστες μπορούν να επιλέξουν ποιο embedding μοντέλο θέλουν να χρησιμοποιήσουν.

- **Vector Database (Retrieval Mechanism)**: Αυτή η βάση δεδομένων **αποθηκεύει τα embeddings του περιεχομένου του ιστότοπου**. Όταν κάποιος κάνει μια ερώτηση, το NLWeb ελέγχει τη vector database για να βρει γρήγορα τις πιο σχετικές πληροφορίες. Επιστρέφει μια γρήγορη λίστα πιθανών απαντήσεων, ταξινομημένες κατά ομοιότητα. Το NLWeb δουλεύει με διαφορετικά συστήματα αποθήκευσης vectors όπως Qdrant, Snowflake, Milvus, Azure AI Search, και Elasticsearch.

### NLWeb με Παράδειγμα

![NLWeb](../../../translated_images/el/nlweb-diagram.c1e2390b310e5fe4.webp)

Σκεφτείτε ξανά τον ιστότοπο κρατήσεων ταξιδιών μας, αλλά αυτή τη φορά τροφοδοτούμενο από NLWeb.

1. **Εισαγωγή Δεδομένων**: Τα υπάρχοντα καταλόγια προϊόντων του ιστότοπου ταξιδιών (π.χ., καταχωρίσεις πτήσεων, περιγραφές ξενοδοχείων, πακέτα περιηγήσεων) μορφοποιούνται χρησιμοποιώντας Schema.org ή φορτώνονται μέσω RSS feeds. Τα εργαλεία του NLWeb εισάγουν αυτά τα δομημένα δεδομένα, δημιουργούν embeddings και τα αποθηκεύουν σε μια τοπική ή απομακρυσμένη vector database.

2. **Ερώτημα Φυσικής Γλώσσας (Άνθρωπος)**: Ένας χρήστης επισκέπτεται τον ιστότοπο και, αντί να πλοηγηθεί σε μενού, πληκτρολογεί σε μια διεπαφή συνομιλίας: "Βρες μου ένα οικογενειακό ξενοδοχείο στο Honolulu με πισίνα για την επόμενη εβδομάδα".

3. **Επεξεργασία NLWeb**: Η εφαρμογή NLWeb λαμβάνει αυτό το ερώτημα. Στέλνει το ερώτημα σε ένα LLM για κατανόηση και ταυτόχρονα αναζητά στη vector database για σχετικά καταχωρημένα ξενοδοχεία.

4. **Ακριβή Αποτελέσματα**: Το LLM βοηθά στην ερμηνεία των αποτελεσμάτων αναζήτησης από τη βάση δεδομένων, εντοπίζει τις καλύτερες αντιστοιχίες βάσει των κριτηρίων "οικογενειακό", "πισίνα" και "Honolulu", και στη συνέχεια μορφοποιεί μια απάντηση σε φυσική γλώσσα. Σημαντικό, η απάντηση αναφέρεται σε πραγματικά ξενοδοχεία από τον κατάλογο του ιστότοπου, αποφεύγοντας τις εφευρέσεις.

5. **Αλληλεπίδραση με Πράκτορα AI**: Επειδή το NLWeb λειτουργεί ως MCP server, ένας εξωτερικός ταξιδιωτικός πράκτορας AI θα μπορούσε επίσης να συνδεθεί με το NLWeb instance αυτού του ιστότοπου. Ο πράκτορας AI θα μπορούσε τότε να χρησιμοποιήσει τη μέθοδο `ask("Are there any vegan-friendly restaurants in the Honolulu area recommended by the hotel?")` του MCP για να ερωτήσει τον ιστότοπο απευθείας. Το NLWeb instance θα επεξεργαζόταν αυτό, αξιοποιώντας τη βάση δεδομένων του με πληροφορίες εστιατορίων (εάν αυτές έχουν φορτωθεί), και θα επέστρεφε μια δομημένη JSON απάντηση.

### Έχετε περισσότερες ερωτήσεις για MCP/A2A/NLWeb;

Ελάτε στο [Microsoft Foundry Discord](https://aka.ms/ai-agents/discord) για να συναντήσετε άλλους μαθητές, να παρακολουθήσετε ώρες γραφείου και να λάβετε απαντήσεις στις ερωτήσεις σας σχετικά με Πράκτορες AI.

## Πόροι

- [MCP for Beginners](https://aka.ms/mcp-for-beginners)  
- [MCP Documentation](https://github.com/microsoft/semantic-kernel/tree/main/python/semantic-kernel/semantic_kernel/connectors/mcp)
- [NLWeb Repo](https://github.com/nlweb-ai/NLWeb)
- [Semantic Kernel Guides](https://learn.microsoft.com/semantic-kernel/)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
Αποποίηση ευθύνης:
Αυτό το έγγραφο έχει μεταφραστεί χρησιμοποιώντας την υπηρεσία μετάφρασης με τεχνητή νοημοσύνη Co‑op Translator (https://github.com/Azure/co-op-translator). Παρότι καταβάλλουμε προσπάθειες για ακρίβεια, παρακαλείσθε να έχετε υπόψη ότι οι αυτόματες μεταφράσεις ενδέχεται να περιέχουν σφάλματα ή ανακρίβειες. Το πρωτότυπο έγγραφο στην αρχική του γλώσσα πρέπει να θεωρείται ως η αυθεντική/εξουσιοδοτημένη πηγή. Για κρίσιμες πληροφορίες συνιστάται επαγγελματική μετάφραση από άνθρωπο. Δεν φέρουμε ευθύνη για τυχόν παρεξηγήσεις ή λανθασμένες ερμηνείες που προκύπτουν από τη χρήση αυτής της μετάφρασης.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->