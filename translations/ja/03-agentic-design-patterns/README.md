[![優れたAIエージェントを設計する方法](../../../translated_images/ja/lesson-3-thumbnail.1092dd7a8f1074a5.webp)](https://youtu.be/m9lM8qqoOEA?si=4KimounNKvArQQ0K)

> _(上の画像をクリックするとこのレッスンのビデオを表示します)_
# AI エージェント設計の原則

## 導入

AIエージェントシステムの構築について考える方法は多岐にわたります。生成AIデザインにおいて曖昧さはバグではなく特徴であるため、エンジニアがどこから始めればよいかを見つけるのは時に困難です。私たちは、開発者がビジネス上のニーズを解決するために顧客中心のエージェントシステムを構築できるように、人間中心のUXデザイン原則のセットを作成しました。これらのデザイン原則は規定的なアーキテクチャではなく、エージェント体験を定義し構築するチームの出発点となるものです。

一般的に、エージェントは次のことを行うべきです：

- 人間の能力を広げ、スケールする（ブレインストーミング、問題解決、自動化など）
- 知識のギャップを埋める（知識ドメインのキャッチアップ、翻訳など）
- 私たち個人が他者と協働することを好む方法で、協力とサポートを促進する
- 私たち自身をより良いバージョンにする（例：ライフコーチ／タスクマスターとして、感情調整やマインドフルネスのスキル学習を助け、レジリエンスを築くなど）

## このレッスンで扱う内容

- エージェント設計原則とは何か
- これらの設計原則を実装する際のガイドライン
- 設計原則を使用した例

## 学習目標

このレッスンを修了すると、次のことができるようになります：

1. エージェント設計原則とは何かを説明できる
2. エージェント設計原則を使用するためのガイドラインを説明できる
3. エージェント設計原則を使ってエージェントを構築する方法を理解する

## エージェント設計の原則

![エージェント設計の原則](../../../translated_images/ja/agentic-design-principles.1cfdf8b6d3cc73c2.webp)

### Agent (Space)

これはエージェントが動作する環境です。これらの原則は、物理的およびデジタルな世界で関与するエージェントをどのように設計するかを示します。

- **接続を促し、孤立させない** – 人々を他の人、イベント、実行可能な知識に結びつけ、協働とつながりを可能にする。
- エージェントはイベント、知識、人々をつなぐのに役立ちます。
- エージェントは人々を引き離すのではなく、より近づけることを目指します。人々を置き換えたり見下したりするように設計されるべきではありません。
- **簡単にアクセスでき、時には不可視であること** – エージェントは主にバックグラウンドで動作し、関連性があり適切な場合にのみ私たちに注意を促します。
  - Agent は、許可されたユーザーが任意のデバイスやプラットフォームで容易に発見・アクセスできるようにします。
  - Agent はマルチモーダル入力と出力（音、音声、テキストなど）をサポートします。
  - Agent はユーザーのニーズの感知に応じて、前景と背景、プロアクティブとリアクティブの間をシームレスに切り替えることができます。
  - Agent は見えない形で動作することがある一方で、そのバックグラウンドプロセスの経路や他のエージェントとの協調はユーザーにとって透明で制御可能であるべきです。

### Agent (Time)

これはエージェントが時間を通じてどのように動作するかを示します。これらの原則は、過去、現在、未来にわたって相互作用するエージェントの設計方法に影響を与えます。

- **過去**：状態と文脈の両方を含む履歴を振り返る。
  - Agent は、単にイベントや人、状態だけでなく、より豊富な履歴データの分析に基づいてより関連性の高い結果を提供します。
  - Agent は過去のイベントからつながりを作り、記憶を能動的に振り返って現在の状況に関与します。
- **現在**：通知するよりも行動を促す（ナッジ）。
  - Agent は人との相互作用に対して包括的なアプローチを体現します。イベントが発生したとき、Agent は静的な通知や形式にとどまりません。Agent はフローを簡素化したり、ユーザーの注意を適切な瞬間に向けるために動的に手がかりを生成したりできます。
  - Agent は文脈的な環境、社会的・文化的な変化に基づいて情報を提供し、ユーザーの意図に合わせて調整されます。
  - Agent との相互作用は徐々に行われ、長期的にユーザーを支援するために進化・複雑化していくことがあります。
- **未来**：適応と進化。
  - Agent はさまざまなデバイス、プラットフォーム、モダリティに適応します。
  - Agent はユーザーの行動やアクセシビリティのニーズに適応し、自由にカスタマイズ可能です。
  - Agent は継続的なユーザーとの相互作用によって形作られ、進化します。

### Agent (Core)

これらはエージェント設計のコアにある主要な要素です。

- **不確実性を受け入れつつ信頼を確立する**。
  - ある程度の Agent の不確実性は予想されます。不確実性はエージェント設計の重要な要素です。
  - 信頼と透明性はエージェント設計の基盤となる層です。
  - 人間がエージェントのオン／オフをコントロールし、エージェントの状態が常に明確に表示されるようにします。

## これらの原則を実装するためのガイドライン

前述の設計原則を使用する際は、次のガイドラインを使用してください：

1. **透明性**：AIが関与していること、どのように機能するか（過去の行動を含む）、およびフィードバックの与え方やシステムの修正方法をユーザーに知らせます。
2. **制御**：ユーザーがカスタマイズ、好みの指定やパーソナライズを行い、システムとその属性（忘れる機能を含む）を制御できるようにします。
3. **一貫性**：デバイスやエンドポイント全体で一貫したマルチモーダル体験を目指します。可能な限り馴染みのあるUI/UX要素を使用し（例：音声操作のためのマイクアイコン）、顧客の認知負荷をできるだけ軽減します（例：簡潔な応答、視覚的補助、[詳細を見る]コンテンツなど）。

## これらの原則とガイドラインを使用して旅行エージェントを設計する方法

旅行エージェントを設計していると想像してください。ここでは、デザイン原則とガイドラインをどのように利用するかについての考え方を示します：

1. **透明性** – 旅行エージェントがAI対応のエージェントであることをユーザーに知らせます。開始方法の基本的な指示（例：「こんにちは」メッセージ、サンプルプロンプト）を提供します。これを製品ページに明確に記載します。ユーザーが過去に行ったプロンプトのリストを表示します。フィードバックの与え方（賛成・反対のサムズアップ／サムズダウン、フィードバック送信ボタンなど）を明確に示します。エージェントが使用やトピックに制限がある場合はそれを明確に説明します。
2. **制御** – エージェント作成後にユーザーがエージェントをどのように変更できるか（例：System Promptのようなもの）を明確にします。ユーザーがエージェントの冗長性（冗長度）、文体、およびエージェントが話してはならないことに関する注意事項を選択できるようにします。関連するファイルやデータ、プロンプト、過去の会話をユーザーが表示・削除できるようにします。
3. **一貫性** – プロンプトを共有するアイコン、ファイルや写真を追加するアイコン、誰かにタグ付けするアイコンが標準的で認識しやすいことを確認します。クリップのアイコンをファイルのアップロード／共有を示すために使用し、画像のアイコンをグラフィックのアップロードを示すために使用します。

## サンプルコード

- Python: [エージェントフレームワーク](./code_samples/03-python-agent-framework.ipynb)
- .NET: [エージェントフレームワーク](./code_samples/03-dotnet-agent-framework.md)


## AIエージェント設計パターンについてさらに質問がありますか？

[Microsoft Foundry Discord](https://aka.ms/ai-agents/discord) に参加して、他の学習者と出会い、オフィスアワーに参加し、AIエージェントに関する質問に答えてもらいましょう。

## 追加リソース

- <a href="https://openai.com" target="_blank">エージェント型AIシステムを統治するための実践 | OpenAI</a>
- <a href="https://microsoft.com" target="_blank">HAXツールキットプロジェクト - Microsoft Research</a>
- <a href="https://responsibleaitoolbox.ai" target="_blank">責任あるAIツールボックス</a>

## 前のレッスン

[エージェントフレームワークの探求](../02-explore-agentic-frameworks/README.md)

## 次のレッスン

[ツール使用のデザインパターン](../04-tool-use/README.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
免責事項：
本書はAI翻訳サービス「Co-op Translator」（https://github.com/Azure/co-op-translator）を用いて翻訳されました。正確性の確保に努めていますが、自動翻訳には誤りや不正確な箇所が含まれる可能性があることにご注意ください。重要な情報については、原文（原言語版）を権威ある出典と見なしてください。重要な内容に関しては、専門の人間による翻訳を推奨します。本翻訳の利用により生じた誤解や誤訳については、当方は一切の責任を負いません。
<!-- CO-OP TRANSLATOR DISCLAIMER END -->