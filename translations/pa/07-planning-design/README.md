[![Planning Design Pattern](../../../translated_images/pa/lesson-7-thumbnail.f7163ac557bea123.webp)](https://youtu.be/kPfJ2BrBCMY?si=9pYpPXp0sSbK91Dr)

> _(ਇਸ ਪਾਠ ਦੀ ਵੀਡੀਓ ਵੇਖਣ ਲਈ ਉਪਰ ਦਿੱਤੀ ਚਿੱਤਰ 'ਤੇ ਕਲਿੱਕ ਕਰੋ)_

# ਯੋਜਨਾ ਡਿਜ਼ਾਈਨ

## Parichay

ਇਹ ਪਾਠ ਹੇਠ ਲਿਖੇ ਵਿਸ਼ਿਆਂ ਬਾਰੇ ਕਵਰ ਕਰੇਗਾ

* ਇੱਕ ਸਾਫ਼ ਸਾਫ਼ ਸਮੁੱਚੇ ਲਕਸ਼ ਨੂੰ ਪਰਿਭਾਸ਼ਿਤ ਕਰਨਾ ਅਤੇ ਇੱਕ ਜਟਿਲ ਕੰਮ ਨੂੰ ਪ੍ਰਬੰਧ ਯੋਗ ਕੰਮਾਂ ਵਿੱਚ ਵੰਡਣਾ।
* ਵਿਧਾਨਿਕ ਨਿਕਾਸ ਨੂੰ ਵਰਤ ਕੇ ਜ਼ਿਆਦਾ ਭਰੋਸੇਯੋਗ ਅਤੇ ਮਸ਼ੀਨ-ਪੜ੍ਹਨਯੋਗ ਜਵਾਬ ਪ੍ਰਾਪਤ ਕਰਨਾ।
* ਗਤਿਵਿਧੀ-ਚਲਿਤ ਰਵੱਈਆ ਲਾਗੂ ਕਰਨਾ ਤਾਂ ਜੋ ਗਤੀਸ਼ੀਲ ਕੰਮਾਂ ਅਤੇ ਆਕਸਮਿਕ ਇਨਪੁੱਟ ਨੂੰ ਸੰਭਾਲਿਆ ਜਾ ਸਕੇ।

## ਸਿੱਖਣ ਦੇ ਲਕਸ਼

ਇਸ ਪਾਠ ਨੂੰ ਪੂਰਾ ਕਰਨ ਤੋਂ ਬਾਅਦ, ਤੁਹਾਨੂੰ ਇਸ ਬਾਰੇ ਸਮਝ ਹੋਵੇਗੀ:

* ਇੱਕ AI ਏਜੰਟ ਲਈ ਇੱਕ ਸਮੂਹ ਲਕਸ਼ ਤੈਅ ਕਰਨਾ ਅਤੇ ਇਹ ਸੁਨਿਸ਼ਚਿਤ ਕਰਨਾ ਕਿ ਇਹ ਸਾਫ਼-ਸਾਫ਼ ਜਾਣਦਾ ਹੋਵੇ ਕਿ ਕੀ ਪ੍ਰਾਪਤ ਕਰਨਾ ਹੈ।
* ਇੱਕ ਜਟਿਲ ਕੰਮ ਨੂੰ ਪ੍ਰਬੰਧਯੋਗ ਸਬਕਾਮਾਂ ਵਿੱਚ ਵੰਡਣਾ ਅਤੇ ਉਨ੍ਹਾਂ ਨੂੰ ਇੱਕ ਤਰਕਸੰਗਤ ਕ੍ਰਮ ਵਿੱਚ ਸੰਗਠਿਤ ਕਰਨਾ।
* ਏਜੰਟਾਂ ਨੂੰ ਸਹੀ ਸੰਦ (ਜਿਵੇਂ ਖੋਜ ਸੰਦ ਜਾਂ ਡੇਟਾ ਵਿਸ਼ਲੇਸ਼ਣ ਸੰਦ) ਨਾਲ ਸਾਜ਼-ਸਮਗਰੀ ਦੇਣਾ, ਫੈਸਲੇ ਲੈਣਾ ਕਿ ਕਦੋਂ ਅਤੇ ਕਿਵੇਂ ਉਨਾਂ ਦੀ ਵਰਤੋਂ ਕਰਨੀ ਹੈ, ਅਤੇ ਆਕਸਮਿਕ ਸਥਿਤੀਆਂ ਦਾ ਜੁਆਬ ਦੇਣਾ।
* ਸਬਕਾਮਾਂ ਦੇ ਨਤੀਜਿਆਂ ਦਾ ਮੁਲਾਂਕਣ ਕਰਨਾ, ਪ੍ਰਦਰਸ਼ਨ ਮਾਪਣਾ ਅਤੇ ਅੰਤਮ ਨਿਕਾਸ ਨੁੰ ਸੁਧਾਰਨ ਲਈ ਕਾਰਵਾਈਆਂ ਨੂੰ ਦੁਹਰਾਉਣਾ।

## ਸਮੂਹ ਲਕਸ਼ ਤੈਅ ਕਰਨਾ ਅਤੇ ਕੰਮ ਨੂੰ ਵੰਡਣਾ

![Defining Goals and Tasks](../../../translated_images/pa/defining-goals-tasks.d70439e19e37c47a.webp)

ਜ਼ਿਆਦਾਤਰ ਅਸਲੀ ਦੁਨੀਆ ਦੇ ਕੰਮ ਇਕੱਲੇ ਕਦਮ ਵਿੱਚ ਨਿਭਾਏ ਜਾਣ ਲਈ ਬਹੁਤ ਜਟਿਲ ਹੁੰਦੇ ਹਨ। ਇੱਕ AI ਏਜੰਟ ਨੂੰ ਆਪਣੀ ਯੋਜਨਾ ਅਤੇ ਕਾਰਵਾਈਆਂ ਨੂੰ ਰਹਿਤ ਕਰਨ ਲਈ ਇੱਕ ਸੰਖੇਪ ਉਦੇਸ਼ ਦੀ ਲੋੜ ਹੁੰਦੀ ਹੈ। ਉਦਾਹਰਣ ਲਈ, ਇਸ ਲਕਸ਼ ਨੂੰ ਵੇਖੋ:

    "3 ਦਿਨਾਂ ਦੀ ਯਾਤਰਾ ਦੀ ਯੋਜਨਾ ਬਣਾਓ।"

ਇਹ ਸਧਾਰਨ ਲੱਗਦਾ ਹੈ, ਪਰ ਇੱਥੇ ਸੁਧਾਰ ਦੀ ਜ਼ਰੂਰਤ ਹੈ। ਜਿੰਨਾ ਸਾਫ਼ ਲਕਸ਼ ਹੋਵੇਗਾ, ਓਹਨਾ ਹੀ ਏਜੰਟ (ਅਤੇ ਕਿਸੇ ਵੀ ਮਨੁੱਖੀ ਸਹਿਯੋਗੀਆਂ) ਲਈ ਇਹ ਸਹੀ ਨਤੀਜੇ ਤੱਕ ਪਹੁੰਚਣਾ ਆਸਾਨ ਹੋਵੇਗਾ, ਜਿਵੇਂ ਕਿ ਉਡਾਣ ਦੇ ਵਿਕਲਪਾਂ, ਹੋਟਲ ਦੀਆਂ ਸਿਫਾਰਸ਼ਾਂ ਅਤੇ ਸਰਗਰਮੀ ਸੁਝਾਵਾਂ ਨਾਲ ਇੱਕ ਵਿਸਤ੍ਰਿਤ ਯੋਜਨਾ ਤਿਆਰ ਕਰਨਾ।

### ਕੰਮ ਦੀ ਵੰਡ

ਵੱਡੇ ਜਾਂ ਜਟਿਲ ਕੰਮਾਂ ਨੂੰ ਛੋਟੇ, ਲਕਸ਼-ਅਧਾਰਤ ਸਬਕਾਮਾਂ ਵਿੱਚ ਵੰਡਣ ਨਾਲ ਇਹਨਾਂ ਉੱਤੇ ਕੰਮ ਕਰਨਾ ਆਸਾਨ ਹੋ ਜਾਂਦਾ ਹੈ।
ਯਾਤਰਾ ਦੀ ਯੋਜਨਾ ਉਦਾਹਰਣ ਲਈ, ਤੁਸੀਂ ਲਕਸ਼ ਨੂੰ ਹੇਠ ਲਿਖਿਆਂ ਵਿੱਚ ਵੰਡ ਸਕਦੇ ਹੋ:

* ਫਲਾਈਟ ਬੁਕਿੰਗ
* ਹੋਟਲ ਬੁਕਿੰਗ
* ਕਾਰ ਕਿਰਾਏ 'ਤੇ ਲੈਣਾ
* ਨਿੱਜੀਕਰਨ

ਹਰੇਕ ਸਬਕਾਮ ਨੂੰ ਫਿਰ ਵੱਖ-ਵੱਖ ਏਜੰਟਾਂ ਜਾਂ ਪ੍ਰਕਿਰਿਆਵਾਂ ਦੁਆਰਾ ਸੰਭਾਲਿਆ ਜਾ ਸਕਦਾ ਹੈ। ਇੱਕ ਏਜੰਟ ਸਭ ਤੋਂ ਵਧੀਆ ਫਲਾਈਟ ਦੀਲਾਂ ਦੀ ਖੋਜ ਵਿੱਚ ਨਿਪੁਣ ਹੋ ਸਕਦਾ ਹੈ, ਦੂਜਾ ਹੋਟਲ ਬੁਕਿੰਗ 'ਤੇ ਧਿਆਨ ਕੇਂਦ੍ਰਿਤ ਕਰਦਾ ਹੈ, ਆਦਿ। ਇਕ ਸਾਂਝਾ ਜਾਂ "ਡਾਊਨਸਟਰੀਮ" ਏਜੰਟ ਫਿਰ ਇਹ ਨਤੀਜੇ ਇਕੱਤਰ ਕਰਕੇ ਅੰਤਮ ਉਪਭੋਗਤਾ ਲਈ ਇਕਠੇ ਯੋਜਨਾ ਤਿਆਰ ਕਰ ਸਕਦਾ ਹੈ।

ਇਹ ਮੋਡਿਊਲਰ ਰਵੱਈਆ ਵੀ ਵਾਧੂ ਸੁਧਾਰਾਂ ਲਈ ਗਲ੍ਹਦੀ ਹੈ। ਉਦਾਹਰਣ ਲਈ, ਤੁਸੀਂ ਖਾਣ-ਪੀਣ ਦੀਆਂ ਸਿਫਾਰਸ਼ਾਂ ਜਾਂ ਸਥਾਨਕ ਸਰਗਰਮੀਆਂ ਦੇ ਸੁਝਾਵ ਲਈ ਵਿਸ਼ੇਸ਼ ਏਜੰਟ ਸ਼ਾਮਿਲ ਕਰਕੇ ਸਮੇਂ-ਸਮੇਂ ਤੇ ਯੋਜਨਾ ਨੂੰ ਬਿਹਤਰ ਬਣਾ ਸਕਦੇ ਹੋ।

### ਸੰਰਚਿਤ ਨਿਕਾਸ

ਵੱਡੇ ਭਾਸ਼ਾ ਮਾਡਲ (LLMs) ਸੰਰਚਿਤ ਨਿਕਾਸ (ਜਿਵੇਂ JSON) ਤਿਆਰ ਕਰ ਸਕਦੇ ਹਨ ਜੋ ਡਾਊਨਸਟਰੀਮ ਏਜੰਟਾਂ ਜਾਂ ਸੇਵਾਵਾਂ ਵੱਲੋਂ ਆਸਾਨੀ ਨਾਲ ਪੜ੍ਹਿਆ ਅਤੇ ਪ੍ਰਕਿਰਿਆਸ਼ੀਲ ਕੀਤਾ ਜਾ ਸਕਦਾ ਹੈ। ਇਹ ਖਾਸ ਕਰਕੇ ਬਹੁ-ਏਜੰਟ ਸੰਦਰਭ ਵਿੱਚ ਲਾਭਦਾਇਕ ਹੁੰਦਾ ਹੈ, ਜਿੱਥੇ ਅਸੀਂ ਯੋਜਨਾ ਨਿਕਾਸ ਮਿਲਣ ਦੇ ਬਾਅਦ ਇਹ ਕੰਮ ਕਰ ਸਕਦੇ ਹਾਂ। ਇਸ ਲਈ ਇਹ <a href="https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/cookbook/structured-output-agent.html" target="_blank">ਬਲੌਗਪੋਸਟ</a> ਵੇਖੋ।

ਹੇਠਾਂ ਦਿੱਤਾ ਗਿਆ Python ਸਨਿੱਪੇਟ ਇੱਕ ਆਸਾਨ ਯੋਜਨਾ ਏਜੰਟ ਨੂੰ ਲਕਸ਼ ਨੂੰ ਸਬਕਾਮਾਂ ਵਿੱਚ ਵੰਡਦਾ ਤੇ ਸੰਰਚਿਤ ਯੋਜਨਾ ਬਣਾਉਂਦਾ ਦਿਖਾਉਂਦਾ ਹੈ:

```python
from pydantic import BaseModel
from enum import Enum
from typing import List, Optional, Union
import json
import os
from typing import Optional
from pprint import pprint
from autogen_core.models import UserMessage, SystemMessage, AssistantMessage
from autogen_ext.models.azure import AzureAIChatCompletionClient
from azure.core.credentials import AzureKeyCredential

class AgentEnum(str, Enum):
    FlightBooking = "flight_booking"
    HotelBooking = "hotel_booking"
    CarRental = "car_rental"
    ActivitiesBooking = "activities_booking"
    DestinationInfo = "destination_info"
    DefaultAgent = "default_agent"
    GroupChatManager = "group_chat_manager"

# ਯਾਤਰਾ ਸਬਟਾਸਕ ਮਾਡਲ
class TravelSubTask(BaseModel):
    task_details: str
    assigned_agent: AgentEnum  # ਅਸੀਂ ਇਹ ਟਾਸਕ ਏਜੰਟ ਨੂੰ ਅਲਾਟ ਕਰਨਾ ਚਾਹੁੰਦੇ ਹਾਂ

class TravelPlan(BaseModel):
    main_task: str
    subtasks: List[TravelSubTask]
    is_greeting: bool

client = AzureAIChatCompletionClient(
    model="gpt-4o-mini",
    endpoint="https://models.inference.ai.azure.com",
    # ਮਾਡਲ ਨਾਲ ਪ੍ਰਮਾਣਿਕਤਾ ਕਰਨ ਲਈ ਤੁਹਾਨੂੰ ਆਪਣੀ GitHub ਸੈਟਿੰਗਜ਼ ਵਿੱਚ ਨਿੱਜੀ ਐਕਸੈਸ ਟੋਕਨ (PAT) ਬਣਾਉਣਾ ਪਵੇਗਾ।
    # ਆਪਣਾ PAT ਟੋਕਨ ਇੱਥੇ ਦਿੱਤੀਆਂ ਹਿਦਾਇਤਾਂ ਦੀ ਪਾਲਣਾ ਕਰਕੇ ਬਣਾਓ: https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens
    credential=AzureKeyCredential(os.environ["GITHUB_TOKEN"]),
    model_info={
        "json_output": False,
        "function_calling": True,
        "vision": True,
        "family": "unknown",
    },
)

# ਉਪਭੋਗਤਾ ਦਾ ਸੰਦੇਸ਼ ਪਰਿਭਾਸ਼ਿਤ ਕਰੋ
messages = [
    SystemMessage(content="""You are an planner agent.
    Your job is to decide which agents to run based on the user's request.
                      Provide your response in JSON format with the following structure:
{'main_task': 'Plan a family trip from Singapore to Melbourne.',
 'subtasks': [{'assigned_agent': 'flight_booking',
               'task_details': 'Book round-trip flights from Singapore to '
                               'Melbourne.'}
    Below are the available agents specialised in different tasks:
    - FlightBooking: For booking flights and providing flight information
    - HotelBooking: For booking hotels and providing hotel information
    - CarRental: For booking cars and providing car rental information
    - ActivitiesBooking: For booking activities and providing activity information
    - DestinationInfo: For providing information about destinations
    - DefaultAgent: For handling general requests""", source="system"),
    UserMessage(
        content="Create a travel plan for a family of 2 kids from Singapore to Melboune", source="user"),
]

response = await client.create(messages=messages, extra_create_args={"response_format": 'json_object'})

response_content: Optional[str] = response.content if isinstance(
    response.content, str) else None
if response_content is None:
    raise ValueError("Response content is not a valid JSON string" )

pprint(json.loads(response_content))

# # ਲੋਡ ਕਰਨ ਤੋਂ ਪਹਿਲਾਂ ਪੁਸ਼ਟੀ ਕਰੋ ਕਿ ਜਵਾਬ ਸਮੱਗਰੀ ਇੱਕ ਵੈਧ JSON ਸਟਰਿੰਗ ਹੈ
# response_content: Optional[str] = response.content if isinstance(
#     response.content, str) else None
# ਜੇ response_content None ਹੈ:
#     ValueError ਉਠਾਓ ("ਜਵਾਬ ਸਮੱਗਰੀ ਵੈਧ JSON ਸਟਰਿੰਗ ਨਹੀਂ ਹੈ")

# # JSON ਵਜੋਂ ਲੋਡ ਕਰਨ ਤੋਂ ਬਾਅਦ ਜਵਾਬ ਸਮੱਗਰੀ ਪ੍ਰਿੰਟ ਕਰੋ
# pprint(json.loads(response_content))

# MathReasoning ਮਾਡਲ ਨਾਲ ਜਵਾਬ ਸਮੱਗਰੀ ਦੀ ਪੁਸ਼ਟੀ ਕਰੋ
# TravelPlan.model_validate(json.loads(response_content))
```

### ਬਹੁ-ਏਜੰਟ ਓਰਕੇਸ्ट्रੇਸ਼ਨ ਨਾਲ ਯੋਜਨਾ ਏਜੰਟ

ਇਸ ਉਦਾਹਰਣ ਵਿੱਚ, ਇੱਕ ਸੈਮੈਂਟਿਕ ਰਾਉਟਰ ਏਜੰਟ ਵਰਤੋਂਕਾਰ ਦੀ ਬੇਨਤੀ ਪ੍ਰਾਪਤ ਕਰਦਾ ਹੈ (ਜਿਵੇਂ "ਮੈਨੂੰ ਆਪਣੇ ਯਾਤਰਾ ਲਈ ਹੋਟਲ ਯੋਜਨਾ ਦੀ ਲੋੜ ਹੈ।").

ਯੋਜਕ ਫਿਰ:

* ਹੋਟਲ ਯੋਜਨਾ ਪ੍ਰਾਪਤ ਕਰਦਾ ਹੈ: ਯੋਜਕ ਵਰਤੋਂਕਾਰ ਦਾ ਸੁਨੇਹਾ ਲੈਂਦਾ ਹੈ ਅਤੇ ਪ੍ਰਣਾਲੀ ਪ੍ਰਾਂਪਟ (ਉਪਲਬਧ ਏਜੰਟ ਵੇਰਵਿਆਂ ਸਮੇਤ) ਦੇ ਆਧਾਰ 'ਤੇ ਇੱਕ ਸੰਰਚਿਤ ਯਾਤਰਾ ਯੋਜਨਾ ਤਿਆਰ ਕਰਦਾ ਹੈ।
* ਏਜੰਟਾਂ ਅਤੇ ਉਨਾਂ ਦੀਆਂ ਸੰਦਾਂ ਦੀ ਸੂਚੀ ਬਣਾਉਂਦਾ ਹੈ: ਏਜੰਟ ਰਜਿਸਟਰੀ ਵਿੱਚ ਏਜੰਟਾਂ ਦੀ ਸੂਚੀ ਹੁੰਦੀ ਹੈ (ਜਿਵੇਂ ਫਲਾਈਟ, ਹੋਟਲ, ਕਾਰ ਕਿਰਾਏ 'ਤੇ ਅਤੇ ਸਰਗਰਮੀਆਂ ਲਈ) ਜਿਨ੍ਹਾਂ ਦੇ ਫੰਕਸ਼ਨ ਜਾਂ ਸੰਦ ਹੁੰਦੇ ਹਨ।
* ਯੋਜਨਾ ਨੂੰ ਸਬੰਧਤ ਏਜੰਟਾਂ ਨੂੰ ਭੇਜਦਾ ਹੈ: ਸਬਕਾਮਾਂ ਦੀ ਗਿਣਤੀ ਦੇ ਅਨੁਸਾਰ, ਯੋਜਕ ਸੁਨੇਹਾ ਸਿੱਧਾ ਇੱਕ ਨਿਰਧਾਰਿਤ ਏਜੰਟ ਨੂੰ ਭੇਜਦਾ ਹੈ (ਇੱਕ-ਕੰਮ ਸਥਿਤੀਆਂ ਲਈ) ਜਾਂ ਬਹੁ-ਏਜੰਟ ਸਹਿਯੋਗ ਲਈ ਗਰੁੱਪ ਚੈਟ ਪ੍ਰਬੰਧਕ ਦੁਆਰਾ ਸੰਚਾਲਨ ਕਰਦਾ ਹੈ।
* ਨਤੀਜੇ ਨੂੰ ਸਾਰਾਂਸ਼ ਬਣਾਉਂਦਾ ਹੈ: ਆਖਿਰਕਾਰ, ਯੋਜਕ ਬਣਾਈ ਗਈ ਯੋਜਨਾ ਨੂੰ ਸੁਪਸ਼ਟਤਾ ਲਈ ਸੰਖੇਪ ਕਰਦਾ ਹੈ।
ਹੇਠਾਂ ਦਿੱਤਾ ਗਇਆ Python ਕੋਡ ਉਦਾਹਰਣ ਇਹ ਕਦਮ ਦਰਸਾਉਂਦਾ ਹੈ:

```python

from pydantic import BaseModel

from enum import Enum
from typing import List, Optional, Union

class AgentEnum(str, Enum):
    FlightBooking = "flight_booking"
    HotelBooking = "hotel_booking"
    CarRental = "car_rental"
    ActivitiesBooking = "activities_booking"
    DestinationInfo = "destination_info"
    DefaultAgent = "default_agent"
    GroupChatManager = "group_chat_manager"

# ਯਾਤਰਾ ਸਬਟਾਸਕ ਮਾਡਲ

class TravelSubTask(BaseModel):
    task_details: str
    assigned_agent: AgentEnum # ਅਸੀਂ ਟਾਸਕ ਨੂੰ ਏਜੰਟ ਨੂੰ ਸੌਂਪਣਾ ਚਾਹੁੰਦੇ ਹਾਂ

class TravelPlan(BaseModel):
    main_task: str
    subtasks: List[TravelSubTask]
    is_greeting: bool
import json
import os
from typing import Optional

from autogen_core.models import UserMessage, SystemMessage, AssistantMessage
from autogen_ext.models.openai import AzureOpenAIChatCompletionClient

# ਪ੍ਰਕਾਰ-ਚੈੱਕ ਕੀਤੇ ਵਾਤਾਵਰਣ ਚਲਾਂ ਨਾਲ ਕਲਾਇੰਟ ਬਣਾਓ

client = AzureOpenAIChatCompletionClient(
    azure_deployment=os.getenv("AZURE_OPENAI_DEPLOYMENT_NAME"),
    model=os.getenv("AZURE_OPENAI_DEPLOYMENT_NAME"),
    api_version=os.getenv("AZURE_OPENAI_API_VERSION"),
    azure_endpoint=os.getenv("AZURE_OPENAI_ENDPOINT"),
    api_key=os.getenv("AZURE_OPENAI_API_KEY"),
)

from pprint import pprint

# ਯੂਜ਼ਰ ਸੁਨੇਹਾ ਪਰਿਭਾਸ਼ਿਤ ਕਰੋ

messages = [
    SystemMessage(content="""You are an planner agent.
    Your job is to decide which agents to run based on the user's request.
    Below are the available agents specialized in different tasks:
    - FlightBooking: For booking flights and providing flight information
    - HotelBooking: For booking hotels and providing hotel information
    - CarRental: For booking cars and providing car rental information
    - ActivitiesBooking: For booking activities and providing activity information
    - DestinationInfo: For providing information about destinations
    - DefaultAgent: For handling general requests""", source="system"),
    UserMessage(content="Create a travel plan for a family of 2 kids from Singapore to Melbourne", source="user"),
]

response = await client.create(messages=messages, extra_create_args={"response_format": TravelPlan})

# ਭਾਰਤ ਲੋਡ ਕਰਨ ਤੋਂ ਪਹਿਲਾਂ ਪੱਕੀ ਕਰੋ ਕਿ ਜਵਾਬ ਵਿੱਚ ਸਮੱਗਰੀ ਵੈਧ JSON ਸਟਰਿੰਗ ਹੈ

response_content: Optional[str] = response.content if isinstance(response.content, str) else None
if response_content is None:
    raise ValueError("Response content is not a valid JSON string")

# ਜੇਸਨ ਵਜੋਂ ਭਾਰਤ ਕਰਨ ਤੋਂ ਬਾਅਦ ਜਵਾਬ ਸਮੱਗਰੀ ਪ੍ਰਿੰਟ ਕਰੋ

pprint(json.loads(response_content))
```

ਹੇਠਾਂ ਪਿਛਲੇ ਕੋਡ ਤੋਂ ਨਿਕਾਸ ਦਿੱਤਾ ਗਿਆ ਹੈ ਅਤੇ ਤੁਸੀਂ ਇਸ ਸੰਰਚਿਤ ਨਿਕਾਸ ਨੂੰ `assigned_agent` ਵੱਲ ਰਾਹਦਾਰੀ ਲਈ ਵਰਤ ਸਕਦੇ ਹੋ ਅਤੇ ਯਾਤਰਾ ਯੋਜਨਾ ਨੂੰ ਅੰਤਮ ਉਪਭੋਗਤਾ ਲਈ ਸੰਖੇਪ ਕਰ ਸਕਦੇ ਹੋ।

```json
{
    "is_greeting": "False",
    "main_task": "Plan a family trip from Singapore to Melbourne.",
    "subtasks": [
        {
            "assigned_agent": "flight_booking",
            "task_details": "Book round-trip flights from Singapore to Melbourne."
        },
        {
            "assigned_agent": "hotel_booking",
            "task_details": "Find family-friendly hotels in Melbourne."
        },
        {
            "assigned_agent": "car_rental",
            "task_details": "Arrange a car rental suitable for a family of four in Melbourne."
        },
        {
            "assigned_agent": "activities_booking",
            "task_details": "List family-friendly activities in Melbourne."
        },
        {
            "assigned_agent": "destination_info",
            "task_details": "Provide information about Melbourne as a travel destination."
        }
    ]
}
```

ਪਿਛਲੇ ਕੋਡ ਸੰਦਰਭ ਨਾਲ ਇੱਕ ਉਦਾਹਰਣ ਨੋਟਬੁੱਕ ਇੱਥੇ ਮੌਜੂਦ ਹੈ [ਇੱਥੇ](07-autogen.ipynb)।

### ਪੜਤਾਲ ਯੋਜਨਾ

ਕਈ ਕੰਮਾਂ ਲਈ ਵਾਪਸ-ਅੱਗੇ ਜਾਂ ਦੁਬਾਰਾ-ਯੋਜਨਾ ਦੀ ਲੋੜ ਹੁੰਦੀ ਹੈ, ਜਿੱਥੇ ਇੱਕ ਸਬਕਾਮ ਦਾ ਨਤੀਜਾ ਅਗਲੇ ਉਤੇ ਪ੍ਰਭਾਵ ਪਾਂਦਾ ਹੈ। ਉਦਾਹਰਣ ਲਈ, ਜੇ ਫਲਾਈਟ ਬੁਕਿੰਗ ਦੌਰਾਨ ਏਜੰਟ ਕਿਸੇ ਅਣਪਛਾਤੇ ਡਾਟਾ ਫਾਰਮੈਟ ਨੂੰ ਭੇਟਦਾ ਹੈ, ਤੇਂ ਉਹ ਹੋਟਲ ਬੁਕਿੰਗ ਤੋਂ ਪਹਿਲਾਂ ਆਪਣੀ ਰਣਨੀਤੀ ਨੂੰ ਅਨੁਕੂਲਿਤ ਕਰਨਾ ਪਏਗਾ।

ਇਸਦੇ ਇਲਾਵਾ, ਵਰਤੋਂਕਾਰ ਦੀ ਪ੍ਰਤੀਕ੍ਰਿਆ (ਜਿਵੇਂ ਕੋਈ ਮਨੁੱਖ ਫੈਸਲਾ ਕਰਦਾ ਹੈ ਕਿ ਉਹ ਪਹਿਲਾਂ ਦੀ ਉਡਾਣ ਚਾਹੁੰਦਾ ਹੈ) ਕੁਝ ਹਿੱਸਿਆਂ ਦੀ ਦੁਬਾਰਾ ਯੋਜਨਾ ਚਾਲੂ ਕਰ ਸਕਦੀ ਹੈ। ਇਹ ਗਤਿਸ਼ੀਲ, ਪੜਤਾਲੀ ਰਵੱਈਆ ਇਹ ਸੁਨਿਸ਼ਚਿਤ ਕਰਦਾ ਹੈ ਕਿ ਅੰਤਮ ਹੱਲ ਅਸਲੀ ਦੁਨੀਆ ਦੀਆਂ ਸੀਮਾਵਾਂ ਅਤੇ ਬਦਲਦੇ ਵਰਤੋਂਕਾਰ ਪਸੰਦਾਂ ਨਾਲ ਮਿਲਦਾ ਹੋਵੇ।

ਉਦਾਹਰਣ ਕੋਡ

```python
from autogen_core.models import UserMessage, SystemMessage, AssistantMessage
#.. ਪਿਛਲੇ ਕੋਡ ਵਾਂਗ ਹੀ ਅਤੇ ਯੂਜ਼ਰ ਇਤਿਹਾਸ, ਮੌਜੂਦਾ ਯੋਜਨਾ ਭੇਜੋ
messages = [
    SystemMessage(content="""You are a planner agent to optimize the
    Your job is to decide which agents to run based on the user's request.
    Below are the available agents specialized in different tasks:
    - FlightBooking: For booking flights and providing flight information
    - HotelBooking: For booking hotels and providing hotel information
    - CarRental: For booking cars and providing car rental information
    - ActivitiesBooking: For booking activities and providing activity information
    - DestinationInfo: For providing information about destinations
    - DefaultAgent: For handling general requests""", source="system"),
    UserMessage(content="Create a travel plan for a family of 2 kids from Singapore to Melbourne", source="user"),
    AssistantMessage(content=f"Previous travel plan - {TravelPlan}", source="assistant")
]
# .. ਮੁੜ ਯੋਜਨਾ ਬਣਾਓ ਅਤੇ ਟਾਸਕਾਂ ਨੂੰ ਸੰਬੰਧਿਤ ਏਜੰਟਾਂ ਨੂੰ ਭੇਜੋ
```

ਜ਼ਿਆਦਾ ਵਿਸਤ੍ਰਿਤ ਯੋਜਨਾ ਲਈ, ਮੈਗਨੇਟਿਕ ਵਣ <a href="https://www.microsoft.com/research/articles/magentic-one-a-generalist-multi-agent-system-for-solving-complex-tasks" target="_blank">ਬਲੌਗਪੋਸਟ</a> ਨੂੰ ਜ਼ਰੂਰ ਵੇਖੋ ਜੋ ਕਿ ਜਟਿਲ ਕੰਮ ਹੱਲ ਕਰਨ ਲਈ ਹੈ।

## ਸੰਖੇਪ

ਇਸ ਲੇਖ ਵਿੱਚ ਅਸੀਂ ਦੇਖਿਆ ਕਿ ਕਿਵੇਂ ਅਸੀਂ ਇੱਕ ਐਸਾ ਯੋਜਕ ਤਿਆਰ ਕਰ ਸਕਦੇ ਹਾਂ ਜੋ ਉਪਲਬਧ ਏਜੰਟਾਂ ਨੂੰ ਗਤੀਸ਼ੀਲ ਤੌਰ 'ਤੇ ਚੁਣਦਾ ਹੈ। ਯੋਜਕ ਦਾ ਨਿਕਾਸ ਕੰਮਾਂ ਨੂੰ ਵੰਡਦਾ ਅਤੇ ਏਜੰਟਾਂ ਨੂੰ ਸੌਂਪਦਾ ਹੈ ਤਾਂ ਜੋ ਉਹ ਕਾਰਜਕਾਰੀ ਬਣ ਸਕਣ। ਮੰਨਿਆ ਜਾਂਦਾ ਹੈ ਕਿ ਏਜੰਟਾਂ ਕੋਲ ਉਹ ਕੰਮ ਕਰਨ ਲਈ ਲੋੜੀਂਦੇ ਫੰਕਸ਼ਨ/ਸੰਦ ਉਪਲਬਧ ਹਨ। ਏਜੰਟਾਂ ਦੇ ਇਲਾਵਾ ਤੁਸੀਂ ਹੋਰ ਰੂਪਾਂ ਜਿਵੇਂ ਰਿਫਲੈਕਸ਼ਨ, ਸੰਖੇਪਕ, ਅਤੇ ਰਾਊਂਡ ਰੋਬਿਨ ਚੈਟ ਸ਼ਾਮਿਲ ਕਰਕੇ ਹੋਰ ਵਿਅਕਤੀਗਤ ਕਰ ਸਕਦੇ ਹੋ।

## ਵਾਧੂ ਸਾਧਨ

AutoGen Magentic One - ਇੱਕ ਜਨਰਲਿਸਟ ਬਹੁ-ਏਜੰਟ ਸਿਸਟਮ ਹੈ ਜੋ ਜਟਿਲ ਕੰਮ ਹੱਲ ਕਰਦਾ ਹੈ ਅਤੇ ਕਈ ਮੁਸ਼ਕਲ ਏਜੰਟ ਬੈਂਚਮਾਰਕਾਂ 'ਤੇ ਸ਼ਾਨਦਾਰ ਨਤੀਜੇ ਹਾਸਲ ਕਰ ਚੁੱਕਾ ਹੈ। ਸੰਦਰਭ: <a href="https://github.com/microsoft/autogen/tree/main/python/packages/autogen-magentic-one" target="_blank">autogen-magentic-one</a>। ਇਸ ਲਾਗੂਆਈ ਵਿੱਚ ਓਰਕੇਸਟਰੈਟਰ ਵੱਖ-ਵੱਖ ਕੰਮਾਂ ਲਈ ਯੋਜਨਾ ਬਣਾਉਂਦਾ ਹੈ ਅਤੇ ਉਨਾਂ ਨੂੰ ਉਪਲਬਧ ਏਜੰਟਾਂ ਨੂੰ ਸੌਂਪਦਾ ਹੈ। ਯੋਜਨਾ ਬਣਾਉਣ ਦੇ ਇਲਾਵਾ ਓਰਕੇਸਟਰੈਟਰ ਕੰਮ ਦੀ ਪ੍ਰਗਟਤੀ ਦੀ ਨਿਗਰਾਨੀ ਲਈ ਟ੍ਰੈਕਿੰਗ ਪ੍ਰਣਾਲੀ ਵੀ ਵਰਤਦਾ ਹੈ ਅਤੇ ਜ਼ਰੂਰਤ ਪੈਣ 'ਤੇ ਦੁਬਾਰਾ ਯੋਜਨਾ ਬਣਾਉਂਦਾ ਹੈ।

### Planning Design Pattern ਬਾਰੇ ਹੋਰ ਸਵਾਲ?

ਹੋਰ ਸਿੱਖਣ ਵਾਲਿਆਂ ਨਾਲ ਮਿਲਣ, ਆਫਿਸ ਘੰਟੇ ਮੌਜੂਦ ਕਰਨ ਅਤੇ ਆਪਣੇ AI ਏਜੰਟ ਸਵਾਲਾਂ ਦੇ ਜਵਾਬ ਲੈਣ ਲਈ [Microsoft Foundry Discord](https://aka.ms/ai-agents/discord) ਵਿੱਚ ਸ਼ਾਮਿਲ ਹੋਵੋ।

## ਪਿਛਲਾ ਪਾਠ

[ਭਰੋਸੇਯੋਗ AI ਏਜੰਟ ਬਣਾਉਣਾ](../06-building-trustworthy-agents/README.md)

## ਅਗਲਾ ਪਾਠ

[ਬਹੁ-ਏਜੰਟ ਡਿਜ਼ਾਈਨ ਪੈਟਰਨ](../08-multi-agent/README.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**ਅਸਵੀਕ੍ਰਿਤੀ**:
ਇਸ ਦਸਤਾਵੇਜ਼ ਦਾ ਅਨੁਵਾਦ AI ਅਨੁਵਾਦ ਸੇਵਾ [Co-op Translator](https://github.com/Azure/co-op-translator) ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਕੀਤਾ ਗਿਆ ਹੈ। ਜਦੋਂ ਕਿ ਅਸੀਂ ਸੁਚਿਤਤਾ ਲਈ ਯਤਨ ਕਰਦੇ ਹਾਂ, ਕਿਰਪਾ ਕਰਕੇ ਧਿਆਨ ਰੱਖੋ ਕਿ ਆਟੋਮੇਟਿਕ ਅਨੁਵਾਦਾਂ ਵਿਚ ਚੁਕਾਂ ਜਾਂ ਅਸਮਰਥਤਾਵਾਂ ਹੋ ਸਕਦੀਆਂ ਹਨ। ਮੂਲ ਦਸਤਾਵੇਜ਼ ਨੂੰ ਇਸ ਦੀ ਮੂਲ ਭਾਸ਼ਾ ਵਿੱਚ ਅਧਿਕਾਰਤ ਸਰੋਤ ਮੰਨਿਆ ਜਾਣਾ ਚਾਹੀਦਾ ਹੈ। ਸੰਵੇਦਨਸ਼ੀਲ ਜਾਣਕਾਰੀ ਲਈ, ਪੇਸ਼ੇਵਰ ਮਨੁੱਖੀ ਅਨੁਵਾਦ ਦੀ ਸਿਫਾਰਸ਼ ਕੀਤੀ ਜਾਂਦੀ ਹੈ। ਅਸੀਂ ਇਸ ਅਨੁਵਾਦ ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਹੋਣ ਵਾਲੀਆਂ ਕਿਸੇ ਵੀ ਗਲਤਫਹਿਮੀ ਜਾਂ ਗਲਤ ਵਿਆਖਿਆਵਾਂ ਲਈ ਜਵਾਬਦੇਹ ਨਹੀਂ ਹਾਂ।
<!-- CO-OP TRANSLATOR DISCLAIMER END -->