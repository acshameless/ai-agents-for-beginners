[![Multi-agent dizajn](../../../translated_images/sr/lesson-8-thumbnail.278a3e4a59137d62.webp)](https://youtu.be/V6HpE9hZEx0?si=A7K44uMCqgvLQVCa)

> _(Кликните на слику изнад да бисте погледали видео о овој лекцији)_

# Обрасци дизајна вишеструких агената

Чим почнете да радите на пројекту који укључује више агената, мораћете да размотрите образац дизајна вишеструких агената. Међутим, можда неће бити одмах јасно када прелазити на више агената и које су предности.

## Увод

У овој лекцији ћемо покушати да одговоримо на следећа питања:

- Који су сценарији у којима се могу применити вишеструки агенти?
- Које су предности коришћења више агената уместо само једног агента који ради више задатака?
- Који су основни елементи за имплементацију обрасца дизајна вишеструких агената?
- Како имати видљивост у то како више агената међусобно интерагују?

## Циљеви учења

Након ове лекције треба да будете способни да:

- Идентификујете сценарије у којима се могу применити вишеструки агенти
- Препознате предности коришћења више агената уместо једног агента
- Разумете основне елементе за имплементацију обрасца дизајна вишеструких агената

Која је већа слика?

*Вишеструки агенти су образац дизајна који омогућава више агената да раде заједно како би постигли заједнички циљ*.

Овај образац се широко користи у разним областима, укључујући роботску технику, аутономне системе и дистрибуирано рачунање.

## Сценарији у којима се могу применити вишеструки агенти

Који су добри сценарији за коришћење вишеструких агената? Одговор је да постоји много сценарија у којима је ангажовање више агената корисно, посебно у следећим случајевима:

- **Велики обим посла**: Велики послови могу бити подељени на мање задатке и додељени различитим агентима, што омогућава паралелну обраду и брже завршетке. Пример је обрада великог скупа података.
- **Комплексни задаци**: Комплексни задаци, као и велики обим посла, могу бити разложени у мање подзадатке и додељени различитим агентима, од којих се сваки специјализује за одређени аспект задатка. Добар пример је аутономна возила у којима различити агенти управљају навигацијом, детекцијом препрека и комуникацијом са другим возилима.
- **Различита стручност**: Различити агенти могу имати различите области стручности, омогућавајући им да ефикасније обрађују различите аспекте задатка од једног агента. За овај случај добар пример је здравство где агенти могу управљати дијагностиком, плановима лечења и праћењем пацијената.

## Предности коришћења више агената уместо једног агента

Систем са једним агентом може добро радити за једноставне задатке, али за сложеније задатке коришћење више агената може пружити неколико предности:

- **Специјализација**: Сваки агент може бити специјализован за одређени задатак. Недостатак специјализације код једног агента значи да имате агента који све може радити, али може бити збуњен шта да ради кад се суочи са сложеним задатком. На пример, може завршити радећи задатак за који није најприкладнији.
- **Скалабилност**: Лакше је масштабирати системе додавањем више агената него преоптерећивањем једног.
- **Отпорност на отказе**: Ако један агент падне, остали могу наставити са радом, обезбеђујући поузданост система.

Пример: хајде да резервишемо путовање за корисника. Један агент би морао да управља свим аспектима резервације, од проналажења летова до резервисања хотела и аутомобила за изнајмљивање. Да би то радио један агент, он би морао да има алате за све те задатке, што би довело до сложеног и монолитног система који је тешко одржавати и скалирати. Са мулти-агентским системом различити агенти би били специјализовани за проналажење летова, резервисање хотела и изнајмљивање аутомобила. То би учинило систем модуларнијим, лакшим за одржавање и скалабилнијим.

Упоредите то са туристичком агенцијом вођеном као породични бизнис у односу на туристичку агенцију као франшизу. У породичној агенцији један агент управља свим аспектима резервације, док у франшизи различити агенти управљају различитим аспектима резервације.

## Основни елементи за имплементацију обрасца дизајна вишеструких агената

Пре него што можете имплементирати образац вишеструких агената, морате разумети основне елементе који чине тај образац.

Хајде да то конкретизујемо поново гледајући пример резервације путовања за корисника. У том случају, основни елементи би укључивали:

- **Комуникација агената**: Агенти за проналажење летова, резервацију хотела и аутомобила морају комуницирати и делити информације о корисниковим преференцама и ограничењима. Морате одлучити о протоколима и методама за ову комуникацију. Конкретно, агент за летове треба да комуницира са агентом за хотеле како би осигурао да је хотел резервисан за исте датуме као лет. То значи да агенти морају делити информације о датумима путовања корисника, па морате одлучити *ко дели које информације и како их деле*.
- **Механизми координације**: Агенти морају координирати своје акције како би били испуњени кориснички захтеви и ограничења. Корисничка преференца може бити хотел близу аеродрома, док ограничење може бити да су аутомобили за изнајмљивање доступни само на аеродрому. То значи да агент за резервацију хотела мора сарађивати са агентом за аутомобиле како би се оствариле преференце и ограничења корисника. Морате одлучити *како агенти координишу своје акције*.
- **Архитектура агената**: Агенти морају имати унутрашњу структуру за доношење одлука и учење из интеракција са корисником. То значи да агент за проналажење летова треба да има унутрашњу структуру за доношење одлука о томе које летове препоручује кориснику. Морате одлучити *како агенти доносе одлуке и уче из интеракција са корисником*. Примери учења могу бити да агент за проналажење летова користи модел машинског учења да препоручује летове на основу претходних преференци корисника.
- **Видљивост интеракција вишеструких агената**: Морате имати видљивост како више агената међусобно интерагују. То значи да морате имати алате и технике за праћење активности и интеракција агената. То може бити у виду алата за логовање и надгледање, алата за визуелизацију и метрика перформанси.
- **Обрасци вишеструких агената**: Постоје различити обрасци за имплементацију вишеструких агената, као што су централизоване, децентрализоване и хибридне архитектуре. Морате одлучити који образац најбоље одговара вашем случају коришћења.
- **Човек у петљи**: У већини случајева постоји човек у петљи и морате упутити агенте када да траже људску интервенцију. То може бити у облику корисника који тражи конкретан хотел или лет који агенти нису препоручили или тражи потврду пре резервисања лета или хотела.

## Видљивост интеракција вишеструких агената

Важно је да имате видљивост како више агената међусобно комуницирају. Ова видљивост је неопходна за отклањање грешака, оптимизацију и осигурање ефективности система. Да бисте то постигли, морате имати алате и технике за праћење активности и интеракција агената. То може бити у виду алата за логовање и надгледање, алата за визуелизацију и метрика перформанси.

На пример, у случају резервације путовања, могли бисте имати контролну таблу која показује статус сваког агента, корисничке преференце и ограничења и интеракције између агената. Та контролна табла могла би показивати датуме путовања корисника, летове које је препоручио агент за летове, хотеле које је препоручио агент за хотеле и аутомобиле које је препоручио агент за аутомобиле. Ово би вам пружило јасан преглед како агенти интерагују и да ли се испуњавају корисничке преференце и ограничења.

Погледајмо сваки од ових аспеката детаљније.

- **Алати за логовање и надгледање**: Желите да се евидентира свака акција коју агент предузме. Лог унос може чувати информације о агенту који је предузео акцију, акцији која је предузета, времену акције и исходу. Ове информације се користе за отклањање грешака, оптимизацију и слично.
  
- **Алати за визуелизацију**: Алати за визуелизацију могу вам помоћи да боље видите интеракције између агената. На пример, можете имати граф који показује проток информација између агената. Ово може помоћи у идентификовању уских грла, неефикасности и других проблема у систему.

- **Метрике перформанси**: Метрике помажу у праћењу ефикасности вишеструког агента. На пример, можете пратити време потребно за завршетак задатка, број завршених задатака по јединици времена и тачност препорука које агенти дају. Ове информације помажу у идентификовању подручја за побољшање и оптимизацију система.

## Обрасци вишеструких агената

Погледајмо неке конкретне обрасце које можемо користити за креирање апликација са више агената. Ево неколико занимљивих образаца вредних разматрања:

### Групни чет

Овај образац је користан када желите да направите апликацију за групни чет у којој више агената може међусобно комуницирати. Типични случајеви коришћења укључују тимски рад, корисничку подршку и друштвене мреже.

У овом обрасцу сваки агент представља корисника у групном чету, а поруке се размењују помоћу протокола за размену порука. Агенти могу слати поруке у групу, примати поруке из групе и одговарати на поруке од других агената.

Овај образац може бити имплементиран коришћењем централизоване архитектуре у којој се све поруке усмеравају преко централног сервера, или децентрализоване архитектуре у којој се поруке размењују директно.

![Групни чет](../../../translated_images/sr/multi-agent-group-chat.ec10f4cde556babd.webp)

### Предаја задака

Овај образац је користан када желите апликацију у којој више агената може предавати задатке један другом.

Типични случајеви коришћења укључују корисничку подршку, управљање задацима и аутоматизацију радних токова.

У овом обрасцу сваки агент представља задатак или корак у радном току, а агенти могу предавати задатке другим агентима на основу унапред дефинисаних правила.

![Предаја задатка](../../../translated_images/sr/multi-agent-hand-off.4c5fb00ba6f8750a.webp)

### Сарадничко филтрирање

Овај образац је користан када желите апликацију у којој више агената сарађује како би препоручили корисницима.

Зашто бисте хтели да више агената сарађује? Зато што сваки агент може имати различиту стручност и допринети процесу препорука на различите начине.

Пример: корисник жели препоруку најбоље акције за куповину на берзи.

- **Стручњак за индустрију**: Један агент може бити стручњак у специфичној индустрији.
- **Техничка анализа**: Други агент може бити стручњак за техничку анализу.
- **Фундаментална анализа**: Још један агент може бити стручњак за фундаменталну анализу. Сарађујући, ови агенти могу дати свеобухватнију препоруку кориснику.

![Препорука](../../../translated_images/sr/multi-agent-filtering.d959cb129dc9f608.webp)

## Сценарио: Процес повраћаја новца

Размотрите сценарио у којем купац покушава да добије повраћај новца за производ. У овом процесу може бити укључено доста агената, али хајде да их поделимо на агенте специфичне за овај процес и опште агенте који се могу користити у другим процесима.

**Агенти специфични за процес повраћаја новца**:

Ево неких агената који могу бити укључени у процес повраћаја:

- **Агент купца**: Представља купца и одговоран је за покретање процеса повраћаја.
- **Агент продавца**: Представља продавца и одговоран је за обраду повраћаја.
- **Агент плаћања**: Представља процес плаћања и одговоран је за враћање новца купцу.
- **Агент решавања проблема**: Представља процес решавања и одговоран је за разрешење свих проблема који настану током процеса повраћаја.
- **Агент усаглашености**: Представља процес усаглашености и одговоран је за обезбеђење да процес повраћаја буде у складу са прописима и политикама.

**Општи агенти**:

Ови агенти могу се користити у другим деловима вашег пословања.

- **Агент за отпрему**: Представља процес отпреме и одговоран је за слање производа назад продавцу. Овај агент се може користити за процес повраћаја, али и за општу отпрему производа приликом куповине.
- **Агент за повратне информације**: Представља процес прикупљања повратних информација од купаца. Повратне информације се могу прикупљати било када, не само током процеса повраћаја.
- **Агент за ескалацију**: Представља процес ескалације и одговоран је за преношење проблема на виши ниво подршке. Овај тип агента може се користити у било ком процесу где је потребно ескалирати проблем.
- **Агент за обавештења**: Представља процес слања обавештења купцу у различитим фазама процеса повраћаја.
- **Агент за анализу**: Представља процес анализе података везаних за процес повраћаја.
- **Агент за ревизију**: Представља процес ревизије и одговоран је за преглед процеса повраћаја како би осигурао да се правилно спроводи.
- **Агент за извештаје**: Представља процес прављења извештаја о процесу повраћаја.
- **Агент за знање**: Представља процес управљања знањем и одговоран је за одржавање базе знања о процесу повраћаја. Овај агент може бити стручан и за повраћаје и за друге делове вашег пословања.
- **Агент за безбедност**: Представља безбедносни процес и одговоран је за обезбеђење безбедности процеса повраћаја.
- **Агент квалитета**: Представља процес контроле квалитета и одговоран је за осигурање квалитета процеса повраћаја.

Навели смо прилично много агената, и за специфични процес повраћаја и за опште агенте који могу бити коришћени и у другим деловима вашег пословања. Надамо се да вам ово пружа идеју како да одлучите које агенте да користите у вашем мулти-агентском систему.

## Задатак

Осмислите систем вишеструких агената за процес корисничке подршке. Идентификујте агенте укључене у процес, њихове улоге и одговорности, као и како интерагују међусобно. Размотрите и агенте специфичне за процес корисничке подршке и опште агенте који се могу користити у другим деловима вашег пословања.
> Размислите пре читања следећег решења, можда ће вам требати више агената него што мислите.

> САВЕТ: Размислите о различитим фазама процеса корисничке подршке, као и о агентима потребним за било који систем.

## Решење

[Решење](./solution/solution.md)

## Провера знања

Питање: Када би требало размотрити коришћење више агената?

- [ ] A1: Када имате мали обим посла и једноставан задатак.
- [ ] A2: Када имате велики обим посла
- [ ] A3: Када имате једноставан задатак.

[Квиз решења](./solution/solution-quiz.md)

## Сажетак

У овој лекцији смо испитали модел вишеструких агената, укључујући сценарије у којима су вишеструки агенти применљиви, предности коришћења више агената у односу на једног агента, основне елементе имплементације модела вишеструких агената, и како имати увид у то како се више агената међусобно интерагују.

### Имате још питања о моделу вишеструких агената?

Придружите се [Microsoft Foundry Discord](https://aka.ms/ai-agents/discord) за сусрет са другим ученицима, учешће у радним сатима и добијање одговора на питања о AI агентима.

## Додатни ресурси

- <a href="https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/design-patterns/intro.html" target="_blank">AutoGen шаблони дизајна</a>
- <a href="https://www.analyticsvidhya.com/blog/2024/10/agentic-design-patterns/" target="_blank">Agentic шаблони дизајна</a>


## Претходна лекција

[Планирање дизајна](../07-planning-design/README.md)

## Следећа лекција

[Мета-когниција у AI агентима](../09-metacognition/README.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Одрицање од одговорности**:
Овај документ је преведен коришћењем АИ сервиса за превођење [Co-op Translator](https://github.com/Azure/co-op-translator). Иако настојимо да обезбедимо прецизност, имајте у виду да аутоматски преводи могу садржати грешке или нетачности. Изворни документ на његовом изворном језику треба сматрати ауторитетним извором. За критичне информације препоручује се професионални људски превод. Нисмо одговорни за било каква неспоразума или погрешне тумачења која произилазе из коришћења овог превода.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->