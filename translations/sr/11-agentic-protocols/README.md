# Коришћење агентских протокола (MCP, A2A и NLWeb)

[![Agentic Protocols](../../../translated_images/sr/lesson-11-thumbnail.b6c742949cf1ce2a.webp)](https://youtu.be/X-Dh9R3Opn8)

> _(Кликните на слику изнад да бисте погледали видео о овој лекцији)_

Како расте употреба AI агената, тако расте и потреба за протоколима који обезбеђују стандарде, безбедност и подржавају отворене иновације. У овој лекцији покрићемо 3 протокола која настоје да задовоље ту потребу - Model Context Protocol (MCP), Agent to Agent (A2A) и Natural Language Web (NLWeb).

## Увод

У овој лекцији ћемо покрити:

• Како **MCP** омогућава AI агентима приступ спољним алатима и подацима да би завршили корисничке задатке.

• Како **A2A** омогућава комуникацију и сарадњу између различитих AI агената.

• Како **NLWeb** доноси интерфејсе на природном језику на било који сајт омогућавајући AI агентима да откривају и интерагују са садржајем.

## Циљеви учења

• **Идентификовати** основну сврху и користи MCP, A2A и NLWeb у контексту AI агената.

• **Објаснити** како сваки протокол олакшава комуникацију и интеракцију између LLM-ова, алата и других агената.

• **Препознати** различите улоге које сваки протокол игра у изградњи сложених агентских система.

## Model Context Protocol

**Model Context Protocol (MCP)** је отворени стандард који обезбеђује стандардизован начин за апликације да пружају контекст и алате LLM-овима. Ово омогућава „универзални адаптер“ за различите изворе података и алате на које се AI агенти могу повезивати на доследан начин.

Погледајмо компоненте MCP-а, предности у односу на директно коришћење API-ја и пример како би AI агенти могли да користе MCP сервер.

### Основне компоненте MCP-а

MCP ради на **клијент-сервер архитектури** и основне компоненте су:

• **Hosts** су LLM апликације (на пример уређивач кода попут VSCode) које покрећу везе ка MCP серверу.

• **Clients** су компоненте унутар хост апликације које одржавају везе један-на-један са серверима.

• **Servers** су лаки програми који изложe одређене могућности.

У протоколу су укључена три основна примитива која представљају могућности MCP сервера:

• **Tools**: Ово су дискретне акције или функције које AI агент може позвати да изврши неку радњу. На пример, сервис за временску прогнозу може изложити алат „get weather“, или e-commerce сервер може изложити алат „purchase product“. MCP сервери објављују име сваког алата, опис и улазно/излазну шему у свом списку могућности.

• **Resources**: То су подаци само за читање или документи које MCP сервер може да пружи, а клијенти их могу преузимати по потреби. Примери укључују садржај фајлова, записа из базе података или лог фајлова. Ресурси могу бити текст (као код или JSON) или бинарни (као слике или PDF-ови).

• **Prompts**: То су унапред дефинисани шаблони који пружају предложене упите, омогућавајући сложеније токове рада.

### Предности MCP-а

MCP нуди значајне предности за AI агенте:

• **Динамично откривање алата**: Агенти могу динамички да добију листу доступних алата са сервера заједно са описима шта ти алати раде. Ово је супротно традиционалним API-јима који често захтевају статичко кодирање интеграција, што значи да свака промена API-ја захтева ажурирање кода. MCP нуди приступ „интегриши једном“, што води ка већој прилагодљивости.

• **Интероперабилност између LLM-ова**: MCP ради са различитим LLM-овима, пружајући флексибилност да се мењају основни модели ради бољег учинка.

• **Стандардизована безбедност**: MCP укључује стандардни метод аутентификације, побољшавајући скалабилност приликом додавања приступа додатним MCP серверима. Ово је једноставније него управљање различитим кључевима и типовима аутентификације за разне традиционалне API-је.

### Пример MCP-а

![MCP Diagram](../../../translated_images/sr/mcp-diagram.e4ca1cbd551444a1.webp)

Замислите да корисник жели да резервише лет користећи AI асистента који користи MCP.

1. **Веза**: AI асистент (MCP клијент) се повезује на MCP сервер који пружа авио компанија.

2. **Откривање алата**: Клијент пита MCP сервер авио компаније: „Које алате имате доступне?“ Сервер одговара алатима као што су "search flights" и "book flights".

3. **Позив алата**: Онда затражите од AI асистента: „Молим те, потражи лет од Портланда до Хонолулуа.“ AI асистент, користећи свој LLM, идентификује да треба да позове алат "search flights" и прослеђује релевантне параметре (одредиште, полазак) MCP серверу.

4. **Извршење и одговор**: MCP сервер, делујући као омотач, прави стварни позив унутрашњем API-ју за резервације авио компаније. Затим прими информације о летовима (нпр. JSON податке) и пошаље их назад AI асистенту.

5. **Даља интеракција**: AI асистент приказује опције летова. Када одаберете лет, асистент може да позове алат "book flight" на истом MCP серверу и заврши резервацију.

## Agent-to-Agent Protocol (A2A)

Док MCP фокус ставља на повезивање LLM-ова са алатима, **Agent-to-Agent (A2A) протокол** иде корак даље омогућавајући комуникацију и сарадњу између различитих AI агената. A2A повезује AI агенте из различитих организација, окружења и технолошких стекова да би заједнички обавили задатак.

Погледаћемо компоненте и предности A2A, заједно са примером како би се могао применити у нашој апликацији за путовања.

### Основне компоненте A2A

A2A се фокусира на омогућавање комуникације између агената и да они раде заједно на завршетку подсъдта корисника. Свака компонента протокола доприноси овоме:

#### Agent Card

Слично као што MCP сервер дели листу алата, Agent Card има:
- Име агента .
- **опис општих задатака** које обавља.
- **листу специфичних вештина** са описима који помажу другим агентима (или чак људским корисницима) да разумеју када и зашто би желели да позову тог агента.
- **тренутни Endpoint URL** агента
- **верзију** и **могућности** агента као што су стримовање одговора и push нотификације.

#### Agent Executor

Agent Executor је одговоран за **преношење контекста корисничког ћаскања ка удаљеном агенту**, удаљени агент треба ово да би разумео задатак који треба да се изврши. У A2A серверу, агент користи свој сопствени Large Language Model (LLM) да парсира долазне захтеве и извршава задатке користећи своје унутрашње алате.

#### Artifact

Када удаљени агент заврши тражени задатак, његов резултат се креира као артефакт. Артефакт **садржи резултат агентовог рада**, **опис шта је завршено**, и **текстуални контекст** који је послат кроз протокол. Након што се артефакт пошаље, веза са удаљеним агентом се затвара док не буде поново потребна.

#### Event Queue

Ова компонента се користи за **обраду ажурирања и слање порука**. Посебно је важна у продукцији за агентске системе да спречи да веза између агената буде затворена пре него што се задатак заврши, посебно када време за завршетак задатка може бити дужи.

### Предности A2A

• **Побољшана сарадња**: Омогућава агентима из различитих добављача и платформи да интерагују, деле контекст и раде заједно, олакшавајући беспрекорну аутоматизацију преко традиционално одвојених система.

• **Флексибилност избора модела**: Сваки A2A агент може да одлучи који LLM користи за обраду захтева, омогућавајући оптимизиране или фино подешене моделе по агенту, за разлику од једне LLM везе у неким MCP сценаријима.

• **Уграђена аутентификација**: Аутентификација је интегрисана директно у A2A протокол, пружајући робусан безбедносни оквир за интеракције агената.

### Пример A2A

![A2A Diagram](../../../translated_images/sr/A2A-Diagram.8666928d648acc26.webp)

Проширићемо нашу сценарио резервације путовања, али овај пут користећи A2A.

1. **Кориснички захтев ка мулти-агенту**: Корисник интерагује са „Travel Agent“ A2A клијентом/агентом, можда говорећи: „Молим те резервиши цело путовање до Хонолулуа за следећу недељу, укључујући летове, хотел и изнајмљивање аутомобила“.

2. **Оркестрација од стране Travel Agent-а**: Travel Agent прими овај сложен захтев. Користи свој LLM да размишља о задатку и утврди да треба да интерагује са другим специјализованим агентима.

3. **Међуагентска комуникација**: Travel Agent затим користи A2A протокол да се повезе са нижеразредним агентима, као што су „Airline Agent“, „Hotel Agent“ и „Car Rental Agent“ које су креијале различите компаније.

4. **Делегирано извршавање задатака**: Travel Agent шаље специфичне задатке тим специјализованим агентима (нпр. „Пронађи летове до Хонолулуа“, „Резервиши хотел“, „Изнајми аутомобил“). Сваки од ових специјализованих агената, који покрећу своје LLM-ове и користе своје алате (који могу бити и сами MCP сервери), извршава свој специфични део резервације.

5. **Консолидовани одговор**: Када сви нижеразредни агенти заврше своје задатке, Travel Agent компилује резултате (подаци о летовима, потврда хотела, резервација аутомобила) и шаље свеобухватан, у стилу ћаскања, одговор назад кориснику.

## Natural Language Web (NLWeb)

Веб сајтови су већ дуго основни начин на који корисници приступају информацијама и подацима преко интернета.

Погледајмо различите компоненте NLWeb-а, предности NLWeb-а и пример како наш NLWeb функционише гледајући нашу апликацију за путовања.

### Компоненте NLWeb-а

- **NLWeb Application (Core Service Code)**: Систем који обрађује питања на природном језику. Повезује различите делове платформе да би креирао одговоре. Можете га посматрати као **покретач који омогућава функције природног језика** на веб-сајту.

- **NLWeb Protocol**: Ово је **основни скуп правила за интеракцију у природном језику** са веб-сајтом. Враћа одговоре у JSON формату (често користећи Schema.org). Његова сврха је да створи једноставну основу за „AI веб“, на исти начин како је HTML омогућио дељење докумената на мрежи.

- **MCP Server (Model Context Protocol Endpoint)**: Свака NLWeb инсталација такође функционише као **MCP сервер**. То значи да може **делити алате (као метод „ask“) и податке** са другим AI системима. У пракси, ово чини садржај и могућности сајта употребљивим за AI агенте, омогућавајући сајту да постане део ширег „екосистема агената“.

- **Embedding Models**: Ови модели се користе да **претворе садржај сајта у нумеричке представе зване вектори** (ембеддинзи). Ови вектори хватају значење на начин који рачунари могу да упоређују и претражују. Они се чувају у посебној бази података, а корисници могу да изаберу који embedding модел желе да користе.

- **Vector Database (Retrieval Mechanism)**: Ова база података **чува ембеддинзе садржаја сајта**. Када неко постави питање, NLWeb проверава вектор базу да брзо пронађе најрелевантније информације. Даје брзу листу могућих одговора рангираних по сличности. NLWeb ради са различитим системима за чување вектора као што су Qdrant, Snowflake, Milvus, Azure AI Search и Elasticsearch.

### NLWeb на примеру

![NLWeb](../../../translated_images/sr/nlweb-diagram.c1e2390b310e5fe4.webp)

Размотримо поново наш сајт за резервацију путовања, али овај пут покреће га NLWeb.

1. **Унос података**: Постојећи продуктни каталози сајта за путовања (нпр. листинзи летова, описи хотела, туристички пакети) форматирају се помоћу Schema.org или се учитавају преко RSS фиџева. NLWeb-ови алати уносе те структуриране податке, креирају ембеддинзе и чувају их у локалној или удаљеној вектор бази података.

2. **Питање на природном језику (човек)**: Корисник посећује сајт и, уместо да прегледа меније, уноси у ћаскање: "Пронађи ми породично-прилагођен хотел у Хонолулуу са базеном за следећу недељу".

3. **Обрада у NLWeb-у**: NLWeb апликација прима ово питање. Она шаље упит LLM-у да би га разумела и истовремено претражује своју вектор базу података за релевантне листинге хотела.

4. **Тачни резултати**: LLM помаже да се интерпретирају резултати претраге из базе, идентификују најбоља подударања на основу критеријума „породично-прилагођен“, „базен“ и „Хонолулу“, а затим форматира природно говорни одговор. Кључно је да се одговор односи на стварне hotele из каталога сајта, избегавајући измишљене информације.

5. **Интеракција AI агента**: Јер NLWeb служи као MCP сервер, спољни AI travel агент такође би могао да се повеже на инстанцу NLWeb-а тог сајта. AI агент би онда могао да користи метод `ask` да упита сајт директно: `ask("Да ли постоје неки ресторани прилагођени веганима у области Хонолулуа које је хотел препоручио?")`. NLWeb инстанца би ово обрадила, користећи своју базу података о ресторанима (ако је учитана), и вратила структурисан JSON одговор.

### Имате још питања о MCP/A2A/NLWeb?

Придружите се [Microsoft Foundry Discord](https://aka.ms/ai-agents/discord) да бисте срели друге полазнике, посетили office hours и добили одговоре на питања о AI агентима.

## Ресурси

- [MCP за почетнике](https://aka.ms/mcp-for-beginners)  
- [MCP Documentation](https://github.com/microsoft/semantic-kernel/tree/main/python/semantic-kernel/semantic_kernel/connectors/mcp)
- [NLWeb Repo](https://github.com/nlweb-ai/NLWeb)
- [Semantic Kernel Guides](https://learn.microsoft.com/semantic-kernel/)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
Изјава о одрицању одговорности:
Овај документ је преведен уз помоћ услуге за превођење помоћу вештачке интелигенције Co-op Translator (https://github.com/Azure/co-op-translator). Иако настојимо да обезбедимо тачност, имајте у виду да аутоматски преводи могу садржати грешке или нетачности. Изворни документ на његовом матичном језику треба сматрати меродавним извором. За критичне информације препоручује се професионални превод који обавља стручни преводилац. Не сносимо одговорност за било какве неспоразуме или погрешна тумачења која проистичу из употребе овог превода.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->