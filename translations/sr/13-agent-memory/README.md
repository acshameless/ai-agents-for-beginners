# Памћење за AI агенте 
[![Памћење агента](../../../translated_images/sr/lesson-13-thumbnail.959e3bc52d210c64.webp)](https://youtu.be/QrYbHesIxpw?si=qNYW6PL3fb3lTPMk)

Када се говори о јединственим предностима креирања AI агената, углавном се расправља о две ствари: могућности позива алата за обављање задатака и способности да се побољшавају током времена. Памћење је у основи креирања агената који се сами побољшавају и који могу да пруже боља искуства нашим корисницима.

У овој лекцији погледаћемо шта је памћење за AI агенте и како можемо да га управљамо и користимо у корист наших апликација.

## Увод

Ова лекција ће покрити:

• **Разумевање памћења AI агената**: Шта је памћење и зашто је важно за агенте.

• **Имплементацију и чување памћења**: Практичне методе за додавање могућности памћења вашим AI агентима, са фокусом на краткорочно и дугорочно памћење.

• **Како учинити AI агенте самопобољшавајућим**: Како памћење омогућава агентима да уче из претходних интеракција и побољшавају се током времена.

## Доступне имплементације

Ова лекција укључује два свеобухватна туторијала у нотебоок-у:

• **[13-agent-memory.ipynb](./13-agent-memory.ipynb)**: Имплементира памћење користећи Mem0 и Azure AI Search са Semantic Kernel оквиром

• **[13-agent-memory-cognee.ipynb](./13-agent-memory-cognee.ipynb)**: Имплементира структуирано памћење користећи Cognee, аутоматски градећи граф знања поткрепљен ембединг-ом, визуелизујући граф и интелигентно дохватање

## Циљеви учења

Након завршетка ове лекције, знaћете како да:

• **Разликовати различите типове памћења AI агената**, укључујући радно, краткорочно и дугорочно памћење, као и специјализоване облике као што су персона и епизодно памћење.

• **Имплементирати и управљати краткорочним и дугорочним памћењем за AI агенте** користећи Semantic Kernel оквир, искоришћавајући алате попут Mem0, Cognee, Whiteboard memory и интеграцију са Azure AI Search.

• **Разумети принципе који стоје иза самопобољшавајућих AI агената** и како робусни системи за управљање памћењем доприносе континуираном учењу и адаптацији.

## Разумевање памћења AI агената

У својој суштини, **памћење за AI агенте се односи на механизме који им омогућавају да задрже и призову информације**. Ове информације могу бити специфични детаљи о разговору, преференције корисника, прошле акције или чак научени обрасци.

Без памћења, AI апликације често немају стање, што значи да свака интеракција почиње из почетка. То води ка понављајућем и фрустрирајућем корисничком искуству где агент „заборави“ претходни контекст или преференције.

### Зашто је памћење важно?

Интелигенција агента је дубоко повезана са његовом способношћу да призове и искористи претходне информације. Памћење омогућава агенатима да буду:

• **Рефлективни**: Учити из претходних акција и резултата.

• **Интерактивни**: Одржавати контекст током текућег разговора.

• **Проактивни и реактивни**: Предвиђати потребе или адекватно одговарати на основу историјских података.

• **Аутономни**: Рационалнији у раду ослањањем на похрањено знање.

Циљ имплементације памћења је да агенате учини поузданијим и способнијим.

### Типови памћења

#### Радно памћење

Замислите ово као комадић бележнице који агент користи током једног текућег задатка или процеса размишљања. Чува непосредне информације потребне за израчунавање следећег корака.

За AI агенте, радно памћење често бележи најрелевантније информације из разговора, чак и ако је цела историја чата дуга или скраћена. Фокусира се на извлачење кључних елемената као што су захтеви, предлози, одлуке и акције.

**Пример радног памћења**

У агенту за резервисање путовања, радно памћење може да задржи тренутни захтев корисника, као што је „Желим да резервишем путовање за Париз“. Овај специфични захтев се држи у непосредном контексту агента да усмери текућу интеракцију.

#### Краткорочно памћење

Овај тип памћења задржава информације током трајања једног разговора или сесије. То је контекст текућег разговора, омогућавајући агенту да се позове на претходне редове у дијалогу.

**Пример краткорочног памћења**

Ако корисник пита, „Колико би коштао лет за Париз?“ а затим настави са „А шта је са смештајем тамо?“, краткорочно памћење обезбеђује да агент зна да се „тамо“ односи на „Париз“ у оквиру истог разговора.

#### Дугорочно памћење

Ово су информације које постоје кроз више разговора или сесија. Омогућава агентима да памте преференције корисника, историјске интеракције или опште знање током дужег периода. Ово је важно за персонализацију.

**Пример дугорочног памћења**

Дугорочно памћење може да сачува да „Бен воли скијање и активности на отвореном, воли кафу са погледом на планине и жели да избегава напредне стазе због прошлe повреде“. Ове информације, научене из претходних интеракција, утичу на препоруке у будућим сесијама планирања путовања, чинећи их високо персонализованим.

#### Persona памћење

Овај специјализовани тип памћења помаже агенту да развије доследан „карактер“ или „персону“. Омогућава агенту да памти детаље о себи или својој намењеној улози, чинећи интеракције флуиднијим и фокусиранијим.

**Пример Persona памћења**
Ако је агент за путовања дизајниран да буде „експерт за ски планирање“, persona памћење може јачати ову улогу, утичући на његове одговоре да се уклапају у тон и знање експерта.

#### Радни ток/Епизодно памћење

Ово памћење чува низ корака које је агент предузео током сложеног задатка, укључујући успехе и неуспехе. То је као памћење специфичних „епизода“ или прошлих искустава како би се из њих учило.

**Пример епизодног памћења**

Ако је агент покушао да резервише одређени лет али је то било неуспешно због недоступности, епизодно памћење може записати тај неуспех, омогућавајући агенту да покуша алтернативне летове или да обавести корисника о проблему на информисанији начин при наредном покушају.

#### Entity памћење

Ово подразумева извлачење и памћење специфичних ентитета (као што су људи, места или ствари) и догађаја из разговора. Омогућава агенту да изгради структурирану представу о кључним елементима који су дискутовани.

**Пример Entity памћења**

Из разговора о прошлом путовању, агент може издвојити „Париз“, „Ајфелова кула“ и „вечење у ресторану Le Chat Noir“ као ентитете. У будућој интеракцији, агент би могао да призове „Le Chat Noir“ и понуди да направи нову резервацију тамо.

#### Структурирани RAG (Retrieval Augmented Generation)

Иако је RAG широка техника, „Структурирани RAG“ је истакнут као моћна технологија памћења. Он извлачи густе, структуиране информације из разних извора (разговори, е-поруке, слике) и користи их за побољшање прецизности, поврата и брзине одговора. За разлику од класичног RAG-а који се ослања само на семантичку сличност, Структурирани RAG ради са унутрашњом структуром информација.

**Пример Структурирани RAG**

Уместо да само поклапа кључне речи, Структурирани RAG би могао парсирати податке о лету (одредиште, датум, време, авио-компанија) из е-поруке и складиштити их на структуриран начин. Ово омогућава прецизне упите као што је „Који лет сам резервисао за Париз у уторак?“

## Имплементација и чување памћења

Имплементација памћења за AI агенте укључује систематски процес **управљања памћењем**, који обухвата генерисање, чување, дохватање, интеграцију, ажурирање и чак „заборављање“ (или брисање) информација. Дохватање је посебно кључан аспект.

### Специјализовани алати за памћење

#### Mem0

Један од начина за чување и управљање памћењем агената је коришћење специјализованих алата као што је Mem0. Mem0 ради као трајни слој памћења, омогућавајући агентима да призивају релевантне интеракције, чувају корисничке преференције и фактички контекст, и уче из успеха и неуспеха током времена. Идеја овде је да агенти без стања постану са стањем.

Он функционише кроз **двофазни меморијски пипелин: екстракцију и ажурирање**. Прво, поруке додате у нит агента се шаљу ка Mem0 сервису, који користи Large Language Model (LLM) да сажме историју разговора и извуче нова сећања. Након тога, фаза ажурирања коју покреће LLM одређује да ли треба додати, модификовати или обрисати ова сећања, чувајући их у хибридној бази података која може да укључује векторске, граф и key-value базе. Овaј систем такође подржава различите типове памћења и може да укључи графско памћење за управљање везама између ентитета.

#### Cognee

Још један снажан приступ је коришћење **Cognee**, open-source семантичког памћења за AI агенте које трансформише структуиране и неструктуиране податке у упитне графове знања поткрепљене ембединг-ом. Cognee пружа **двоструку архитектуру складишта** која комбинује претрагу по векторској сличности са графским везама, омогућавајући агентима да разумеју не само шта је информација слична, већ и како се појмови међусобно односе.

Изврсно је у области **хибридног дохвата** који меша векторску сличност, графску структуру и LLM резоновање - од претраживања по грубо подељеним деловима до графски свесног одговарања на питања. Систем одржава **живо памћење** које се развија и расте док остаје упитно као један повезани граф, подржавајући и краткорочни сесијски контекст и дугорочно трајно памћење.

Cognee нотебоок туторијал ([13-agent-memory-cognee.ipynb](./13-agent-memory-cognee.ipynb)) демонстрира изградњу овог јединственог слоја памћења, са практичним примерима уноса различитих извора података, визуелизацијом графа знања и упитима са различитим стратегијама претраге прилагођеним специфичним потребама агента.

### Чување памћења помоћу RAG

Поред специјализованих алата за памћење попут Mem0, можете искористити робусне сервисе за претрагу као што је **Azure AI Search као backend за чување и дохватање сећања**, посебно за структурирани RAG.

Ово вам омогућава да уосновите одговоре вашег агента својим подацима, обезбеђујући релевантније и прецизније одговоре. Azure AI Search може да се користи за чување корисничких сећања везаних за путовања, каталоге производа или било које друге доменске податке.

Azure AI Search подржава могућности као што је **Structured RAG**, који одлично функционише при извлачењу и дохватању густих, структуираних информација из великих скупова података као што су историје разговора, е-поруке или чак слике. Ово пружа „надчовечанску прецизност и поврат“ у поређењу са традиционалним приступима раздвајања текста и ембединг-ова.

## Како учинити AI агенте да се сами побољшавају

Уобичајени образац за самопобољшавајуће агенте укључује увођење **„agentа за знање“**. Овај посебан агент посматра главни разговор између корисника и примарног агента. Његова улога је да:

1. **Идентификује вредне информације**: Утврди да ли део разговора вреди сачувати као опште знање или специфична корисничка преференција.

2. **Извуче и сажме**: Дистилује суштинско сазнање или преференцију из разговора.

3. **Сачува у бази знања**: Перзистира ове издвојене информације, често у векторској бази података, како би могле касније да се дохвате.

4. **Допуни будуће упите**: Када корисник покрене нови упит, agent за знање дохвата релевантне сачуване информације и придодаје их у упит корисника, пружајући кључни контекст примарном агенту (слично RAG).

### Оптимизације за памћење

• **Управљање латенцијом**: Да би се избегло успоравање корисничких интеракција, може се користити јефтинији, бржи модел у почетку да би се брзо проверило да ли је информација вредна чувања или дохвата, а сложенији процес екстракције/дохватања се покреће само када је то потребно.

• **Одржавање базе знања**: За растућу базу знања, мање коришћене информације се могу преместити у „хладно складиште“ ради управљања трошковима.

## Имате више питања о памћењу агената?

Придружите се [Microsoft Foundry Discord](https://aka.ms/ai-agents/discord) да упознате друге ученике, присуствујете радним сатима и добијете одговоре на ваша питања о AI агентима.

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Одрицање одговорности**:
Овај документ је преведен уз помоћ сервиса за машинско превођење [Co-op Translator](https://github.com/Azure/co-op-translator). Иако тежимо тачности, имајте у виду да аутоматски преводи могу садржати грешке или нетачности. Оригинални документ на његовом матичном језику треба сматрати ауторитетним извором. За критичне информације препоручује се професионалан превод који обави човек. Не сносимо одговорност за било какве неспоразуме или погрешне тумачења која произилазе из употребе овог превода.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->